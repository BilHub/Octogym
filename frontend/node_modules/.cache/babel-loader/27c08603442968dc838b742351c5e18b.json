{"ast":null,"code":"var _jsxFileName = \"/home/bil/Desktop/web projects/octopus/Octogym/frontend/src/jsx/components/configuration/AbonnementListModal.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useCallback, useEffect, memo } from \"react\";\nimport { Row, Card, Col, Button, Modal, Table } from \"react-bootstrap\";\nimport { useGetAPI, usePutAPI } from '../useAPI';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport axios from 'axios';\nimport PageTitle from \"../../layouts/PageTitle\";\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch'; // import { Dropdown, Tab, Nav } from \"react-bootstrap\";\n// import { Link } from \"react-router-dom\";\n\nimport useForm from 'react-hook-form';\nimport createPalette from \"@material-ui/core/styles/createPalette\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction refreshPage() {\n  window.location.reload(false);\n}\n\nconst AbonnementListModal = _ref => {\n  _s();\n\n  let {\n    show,\n    onShowShange,\n    abonnementData\n  } = _ref;\n  const handleShow = useCallback(() => {\n    onShowShange(false);\n  }, [onShowShange]); // const abonnementEditEND = `${process.env.REACT_APP_API_URL}/rest-api/abonnement/`\n  // const creneauPerAbonnementEND = `${process.env.REACT_APP_API_URL}/rest-api/abonnement/`\n\n  const [name, setName] = useState('');\n  const [price, setPrice] = useState('');\n  const [numberOfDays, setNumberOfDays] = useState('');\n  const [seancesQuantity, setSeancesQuantity] = useState('');\n  const [activities, setActivities] = useState([]);\n  const [systemeCochage, setSystemeCochage] = useState(false);\n  const [abonnements, setAbonnements] = useState([]);\n  const [abId, setAbId] = useState('');\n  const [acti, setActi] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const abonnementsEND = `${process.env.REACT_APP_API_URL}/rest-api/abonnement/`; // const provArray = []\n\n  useEffect(() => {\n    if (show == true) {\n      axios.get(abonnementsEND).then(res => {\n        setAbonnements(res.data); // setName(res.data.name)\n        // setPrice(res.data.price)\n        // setNumberOfDays(res.data.number_of_days)\n\n        console.log('fedfef', res.data);\n      });\n    }\n  }, [show]); // const openCloseModal = useCallback( (abID) => {} ,[onShowShange])\n  //  had el useEffect trigli probleme ta3 retard hata ikounou 3andha les valeurs bach t3ayet la fonctions\n\n  useEffect(() => {\n    abonnementData(abId, acti);\n    handleShow();\n  }, [acti]); // return indexesList\n  // const getSelectedActivities = () => {\n  //     console.log(\n  //         'les activitesss', activity\n  //     );\n  //   for (let i = 0; i < activity.length; i++) {\n  //       // setRealMaladies([...realMaladies, selectedMaladies[i]['id']])\n  //       selectedActivities.push(activity[i]['id'])\n  //   }\n  //   console.log(\n  //     // 'les provArray', provArray\n  // );\n  // //   setSelectedActivities(provArray)\n  // }\n  // const handleDelete = e => {\n  //     axios.delete(abonnementDeleteEND).then(\n  //         refreshPage(),\n  //         handleShow()\n  //     )\n  // }\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    className: \"fade bd-example-modal-lg\",\n    size: \"xl\",\n    onHide: handleShow,\n    show: show,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      children: [/*#__PURE__*/_jsxDEV(Modal.Title, {\n        className: \"text-black\",\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"\",\n        className: \"close\",\n        onClick: handleShow,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table text-center bg-warning-hover config-tableaux\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"text-left\",\n              children: \"Abonnement\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Nombre de S\\xE9ance \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Nombre jours / semaine\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"text-right\",\n              children: \"Nombre d'activit\\xE9s'\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Inscrits\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: abonnements.map(abonnement => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"cursor-abonnement\",\n            onClick: () => {\n              setAbId(abonnement.id);\n              setActi(abonnement.salles); // abonnementData(abId, acti)\n              // handleShow()\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"text-left\",\n              children: abonnement.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: abonnement.seances_quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: abonnement.number_of_days\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"text-right\",\n              children: abonnement.salles.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"text-right\",\n              children: abonnement.clients_number\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 23\n            }, this)]\n          }, abonnement.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AbonnementListModal, \"4NhHXOAN+GLEGhpwpEFBYo+Ufac=\");\n\n_c = AbonnementListModal;\nexport default AbonnementListModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"AbonnementListModal\");","map":{"version":3,"sources":["/home/bil/Desktop/web projects/octopus/Octogym/frontend/src/jsx/components/configuration/AbonnementListModal.jsx"],"names":["React","useState","useCallback","useEffect","memo","Row","Card","Col","Button","Modal","Table","useGetAPI","usePutAPI","TextField","Autocomplete","axios","PageTitle","FormControlLabel","Switch","useForm","createPalette","refreshPage","window","location","reload","AbonnementListModal","show","onShowShange","abonnementData","handleShow","name","setName","price","setPrice","numberOfDays","setNumberOfDays","seancesQuantity","setSeancesQuantity","activities","setActivities","systemeCochage","setSystemeCochage","abonnements","setAbonnements","abId","setAbId","acti","setActi","showModal","setShowModal","abonnementsEND","process","env","REACT_APP_API_URL","get","then","res","data","console","log","map","abonnement","id","salles","seances_quantity","number_of_days","length","clients_number"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useEffect, memo } from \"react\";\r\nimport { Row, Card, Col, Button, Modal, Table } from \"react-bootstrap\";\r\nimport { useGetAPI, usePutAPI } from '../useAPI'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport axios from 'axios';\r\nimport PageTitle from \"../../layouts/PageTitle\";\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\n// import { Dropdown, Tab, Nav } from \"react-bootstrap\";\r\n// import { Link } from \"react-router-dom\";\r\nimport useForm from 'react-hook-form';\r\nimport createPalette from \"@material-ui/core/styles/createPalette\";\r\nfunction refreshPage() {\r\n  window.location.reload(false);\r\n}\r\nconst AbonnementListModal = ({show, onShowShange, abonnementData}) => {\r\n    const handleShow = useCallback( () => {onShowShange(false)}, [onShowShange])\r\n    // const abonnementEditEND = `${process.env.REACT_APP_API_URL}/rest-api/abonnement/`\r\n    // const creneauPerAbonnementEND = `${process.env.REACT_APP_API_URL}/rest-api/abonnement/`\r\n\r\n    const [name, setName] = useState('')\r\n    const [price, setPrice] = useState('')\r\n    const [numberOfDays, setNumberOfDays] = useState('')\r\n    const [seancesQuantity, setSeancesQuantity] = useState('')\r\n    const [activities, setActivities] = useState([])\r\n    const [systemeCochage, setSystemeCochage] = useState(false)\r\n    const [abonnements, setAbonnements] = useState([])\r\n    const [abId, setAbId] = useState('')\r\n    const [acti, setActi] = useState([])\r\n\r\n\r\n    const [ showModal, setShowModal]  = useState(false)\r\n\r\n    const abonnementsEND = `${process.env.REACT_APP_API_URL}/rest-api/abonnement/`\r\n// const provArray = []\r\nuseEffect(() => {\r\n  if (show == true) {\r\n    axios.get(abonnementsEND).then(res => {\r\n      setAbonnements(res.data)\r\n      // setName(res.data.name)\r\n      // setPrice(res.data.price)\r\n      // setNumberOfDays(res.data.number_of_days)\r\n      console.log('fedfef', res.data);\r\n    })\r\n  }\r\n}, [show]);\r\n\r\n// const openCloseModal = useCallback( (abID) => {} ,[onShowShange])\r\n//  had el useEffect trigli probleme ta3 retard hata ikounou 3andha les valeurs bach t3ayet la fonctions\r\n  useEffect(() => { \r\n    abonnementData(abId, acti)\r\n    handleShow()\r\n  }, [acti]);\r\n  // return indexesList\r\n    // const getSelectedActivities = () => {\r\n    \r\n    //     console.log(\r\n    //         'les activitesss', activity\r\n    //     );\r\n    //   for (let i = 0; i < activity.length; i++) {\r\n    //       // setRealMaladies([...realMaladies, selectedMaladies[i]['id']])\r\n    //       selectedActivities.push(activity[i]['id'])\r\n    //   }\r\n    //   console.log(\r\n    //     // 'les provArray', provArray\r\n    // );\r\n    // //   setSelectedActivities(provArray)\r\n    // }\r\n// const handleDelete = e => {\r\n//     axios.delete(abonnementDeleteEND).then(\r\n//         refreshPage(),\r\n//         handleShow()\r\n//     )\r\n// }\r\n    \r\nreturn ( \r\n    <Modal  className=\"fade bd-example-modal-lg\" size=\"xl\"onHide={handleShow} show={show}>\r\n    <Modal.Header>\r\n      <Modal.Title className='text-black'>{name}</Modal.Title>\r\n      <Button\r\n          variant=\"\"\r\n          className=\"close\"\r\n          onClick={handleShow}\r\n          >\r\n          <span>&times;</span>\r\n      </Button>\r\n    </Modal.Header>\r\n    <Modal.Body>\r\n    <table className=\"table text-center bg-warning-hover config-tableaux\">\r\n              <thead>\r\n                  <tr>\r\n                      <th className=\"text-left\">Abonnement</th>\r\n                      <th>Nombre de Séance </th>\r\n                      <th >Nombre jours / semaine</th>\r\n                      <th className=\"text-right\">Nombre d'activités'</th>\r\n                      <th >Inscrits</th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody>\r\n              {abonnements.map( abonnement => (\r\n                  <tr className='cursor-abonnement' key={abonnement.id} onClick={() =>{\r\n                    setAbId(abonnement.id)\r\n                    setActi(abonnement.salles)\r\n                    // abonnementData(abId, acti)\r\n                    // handleShow()\r\n                  }\r\n                  } >\r\n                      <td className=\"text-left\">{abonnement.name}</td>\r\n                      <td>{abonnement.seances_quantity}</td>\r\n                      <td >{abonnement.number_of_days}</td>\r\n                      <td className=\"text-right\">{abonnement.salles.length}</td>\r\n                      <td className=\"text-right\">{abonnement.clients_number}</td>\r\n                  </tr>\r\n              ))}\r\n              </tbody>\r\n          </table>\r\n     </Modal.Body>\r\n\r\n    </Modal>\r\n)\r\n\r\n};\r\nexport default AbonnementListModal;"]},"metadata":{},"sourceType":"module"}