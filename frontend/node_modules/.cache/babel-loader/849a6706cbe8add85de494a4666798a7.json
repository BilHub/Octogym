{"ast":null,"code":"var _jsxFileName = \"/home/bil/Desktop/web projects/octopus/Octogym/frontend/src/jsx/components/planning/PlanningCreate.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useGetAPI, usePostAPI } from '../useAPI'; // import PlanningProvider from './PlanningState'\n\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction refreshPage() {\n  window.location.reload(false);\n}\n\nconst PlaningCreate = () => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  //declare all atributes state\n  const [planningName, setPlanningName] = useState(\"\");\n  const [planningSalleSport, setPlanningSalleSport] = useState(\"\");\n  let salleEnd = `${process.env.REACT_APP_API_URL}/rest-api/salle-sport/`;\n  const salles = useGetAPI(salleEnd);\n  const history = useHistory();\n\n  const HandleSubmit = e => {\n    _s();\n\n    e.preventDefault();\n    let endpoint = `${process.env.REACT_APP_API_URL}/rest-api/planning/create`; //create new planing\n\n    const newPlanning = {\n      name: planningName,\n      salle_sport: Number(planningSalleSport) //convert and pass the id as number \n\n    };\n    usePostAPI(endpoint, newPlanning); //  setPlanningName(\"\")\n    //  setPlanningSalleSport(\"\")\n\n    history.push(\"/planning\");\n    refreshPage();\n  };\n\n  _s(HandleSubmit, \"Lyk8Kka0FEUUhqQ22XA/nGDvb5M=\", false, function () {\n    return [usePostAPI];\n  });\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Ajouter un planning \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"basic-form\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: HandleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Nom du Planning\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 45,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: \"salle_name\",\n                  className: \"form-control\",\n                  value: planningName,\n                  name: \"name\",\n                  onChange: e => setPlanningName(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 46,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Salle de Sport\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 49,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  defaultValue: \"option\",\n                  className: \"form-control\",\n                  name: \"salles\",\n                  id: \"cars\",\n                  value: planningSalleSport,\n                  onChange: e => setPlanningSalleSport(e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"option\",\n                    children: \"Cliquez pour choisir\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 51,\n                    columnNumber: 31\n                  }, this), salles.map(salle => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: salle.id,\n                    children: salle.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 52,\n                    columnNumber: 57\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              children: \"Creer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 15\n  }, this);\n};\n\n_s2(PlaningCreate, \"NFQZpzoyF62QXEaVb3vwUp6DbMo=\", false, function () {\n  return [useGetAPI, useHistory];\n});\n\n_c = PlaningCreate;\nexport default PlaningCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlaningCreate\");","map":{"version":3,"sources":["/home/bil/Desktop/web projects/octopus/Octogym/frontend/src/jsx/components/planning/PlanningCreate.js"],"names":["React","useState","useGetAPI","usePostAPI","useHistory","refreshPage","window","location","reload","PlaningCreate","planningName","setPlanningName","planningSalleSport","setPlanningSalleSport","salleEnd","process","env","REACT_APP_API_URL","salles","history","HandleSubmit","e","preventDefault","endpoint","newPlanning","name","salle_sport","Number","push","target","value","map","salle","id"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nimport { useGetAPI, usePostAPI } from '../useAPI'\r\n// import PlanningProvider from './PlanningState'\r\nimport {  useHistory } from \"react-router-dom\";\r\n\r\nfunction refreshPage() {\r\n  window.location.reload(false);\r\n}\r\n\r\nconst PlaningCreate = () => {\r\n//declare all atributes state\r\n    const [planningName, setPlanningName] = useState(\"\");\r\n    const [planningSalleSport, setPlanningSalleSport] = useState(\"\");\r\n\r\n    let salleEnd = `${process.env.REACT_APP_API_URL}/rest-api/salle-sport/`\r\n\r\n    const salles = useGetAPI(salleEnd)\r\n    const history = useHistory();\r\n\r\n    const HandleSubmit =  e => {\r\n      e.preventDefault();\r\n      let endpoint = `${process.env.REACT_APP_API_URL}/rest-api/planning/create`\r\n      //create new planing\r\n      const newPlanning = {\r\n        name:planningName, \r\n        salle_sport: Number(planningSalleSport)//convert and pass the id as number \r\n      }\r\n        usePostAPI(endpoint, newPlanning)\r\n      //  setPlanningName(\"\")\r\n      //  setPlanningSalleSport(\"\")\r\n       history.push(\"/planning\")\r\n       refreshPage()\r\n      }\r\n    return (\r\n              <div>\r\n\r\n                <h1>Ajouter un planning </h1>\r\n                <div className=\"card\">\r\n                  <div className=\"card-body\">\r\n                    <div className=\"basic-form\">\r\n                      <form onSubmit={HandleSubmit}>\r\n                        <div className=\"form-row\">\r\n                          <div className=\"form-group col-md-6\">\r\n                            <label>Nom du Planning</label>\r\n                            <input type=\"text\" id=\"salle_name\" className=\"form-control\" value={planningName} name=\"name\" onChange={e => setPlanningName(e.target.value)} />\r\n                          </div>\r\n                          <div className=\"form-group col-md-6\">\r\n                            <label>Salle de Sport</label>\r\n                            <select defaultValue={\"option\"} className=\"form-control\" name=\"salles\" id=\"cars\" value={planningSalleSport} onChange={e => setPlanningSalleSport(e.target.value)}>\r\n                              <option value=\"option\" >Cliquez pour choisir</option>\r\n                                  { salles.map(salle => <option value={salle.id}>{salle.name}</option>)}\r\n                            </select>\r\n                          </div>\r\n                        </div>\r\n                        <button type=\"submit\" className=\"btn btn-primary\">\r\n                          Creer\r\n                        </button>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                </div>\r\n        \r\n    )\r\n}\r\nexport default PlaningCreate;"]},"metadata":{},"sourceType":"module"}