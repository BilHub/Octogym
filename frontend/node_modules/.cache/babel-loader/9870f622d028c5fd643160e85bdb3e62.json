{"ast":null,"code":"var _jsxFileName = \"/home/bil/Desktop/web projects/octopus/Octogym/frontend/src/jsx/components/presence/PresenceList.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport PageTitle from \"../../layouts/PageTitle\";\nimport { Dropdown } from \"react-bootstrap\";\nimport axios from 'axios';\nimport Search from \"../../layouts/Search\";\nimport { Row, Card, Col, Button, Modal, Container } from \"react-bootstrap\";\nimport ShortCuts from \"../ShortCuts\";\nimport { ToastContainer, toast } from 'react-toastify'; /// images\n\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { Link } from \"react-router-dom\";\nimport { useGetAPI, usePostAPI } from '../useAPI';\nimport PresenceEditModal from './PresenceEditModal';\nimport PresenceCreateModal from './PresenceCreateModal';\nimport TextField from '@material-ui/core/TextField';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ClientContext = /*#__PURE__*/React.createContext();\n\nfunction refreshPage() {\n  window.location.reload(false);\n}\n\nconst removeObject = async props => {\n  let endpoint = `${process.env.REACT_APP_API_URL}/rest-api/presence/delete/`;\n  await axios.delete(endpoint + props.id);\n};\n\nconst Drop = props => {\n  return /*#__PURE__*/_jsxDEV(Dropdown, {\n    children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n      variant: \"\",\n      className: \"table-dropdown i-false\",\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"24px\",\n        height: \"24px\",\n        viewBox: \"0 0 24 24\",\n        version: \"1.1\",\n        children: /*#__PURE__*/_jsxDEV(\"g\", {\n          stroke: \"none\",\n          strokeWidth: \"1\",\n          fill: \"none\",\n          fillRule: \"evenodd\",\n          children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"0\",\n            y: \"0\",\n            width: \"24\",\n            height: \"24\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n            fill: \"#000000\",\n            cx: \"5\",\n            cy: \"12\",\n            r: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n            fill: \"#000000\",\n            cx: \"12\",\n            cy: \"12\",\n            r: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n            fill: \"#000000\",\n            cx: \"19\",\n            cy: \"12\",\n            r: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 16\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n      children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n        href: `/presence/edit/${props.id}`,\n        children: \"Modifier\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n        type: \"button\",\n        className: \"text-danger\",\n        onClick: async () => {\n          await axios.delete(`${process.env.REACT_APP_API_URL}/rest-api/presence/delete/${props.id}/`);\n          refreshPage();\n        },\n        children: \"Supprimer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 11\n  }, this);\n};\n\n_c = Drop;\n\nconst PresenceList = () => {\n  _s();\n\n  const [editModal, setEditModal] = useState(false);\n  const [presneceCreateModal, setPresneceCreateModal] = useState(false);\n  const [nextpage, setNextpage] = useState(1);\n  const [client, setClient] = useState('');\n  const [clientId, setClientId] = useState('');\n  const [presenceId, setPresenceId] = useState('');\n  const [hourIn, setHourIn] = useState('');\n  const [hourOut, setHourOut] = useState('');\n  const [creneau, setCreneau] = useState('');\n  const [note, setNote] = useState('');\n  const [date, setDate] = useState('');\n  const [activity, setActivity] = useState('');\n  const [filterActivity, setFilterActivity] = useState('');\n  const [presenceSuccess, setPresenceSuccess] = useState(false);\n  const [presenceError, setPresenceError] = useState(false);\n  const [presenceupdatedSuccess, setPresenceupdatedSuccess] = useState(false);\n  const [presenceCreatedSuccess, setPresenceCreatedSuccess] = useState(false);\n  const [searchValue, setSearchValue] = useState('');\n  const [searchBarActivated, setSearchBarActivated] = useState(false);\n  const [presenceData, setPresenceData] = useState([]);\n  const [presencesCount, setPresencesCount] = useState('');\n  console.log('le clieeeeen RFID', client); // console.table('els clieeents', salle);\n\n  const capitalizeFirstLetter = word => {\n    if (word) return word.charAt(0).toUpperCase() + word.slice(1);\n    return '';\n  };\n\n  const formatDate = date => {\n    try {\n      const returned = new Date(date).toISOString().slice(0, 10);\n      return returned;\n    } catch (error) {\n      const returned = new Date().toISOString().slice(0, 10);\n      return returned;\n    }\n  };\n\n  const [startDate, setStartDate] = useState(formatDate(new Date('2000-01-01')));\n  const [endDate, setEndDate] = useState(formatDate(new Date()));\n  const [salleId, setSalleId] = useState('');\n  const [startHour, setStartHour] = useState('');\n  console.log('huere de début', startHour);\n  const sallesData = useGetAPI(`${process.env.REACT_APP_API_URL}/rest-api/salle-activite/`);\n  const activities = useGetAPI(`${process.env.REACT_APP_API_URL}/rest-api/salle-activite/activite/`); // let endpoint = `${process.env.REACT_APP_API_URL}/rest-api/presence/`\n\n  let presenceCreateEND = `${process.env.REACT_APP_API_URL}/rest-api/presence/auto-create`; // var searchPresenceEndpoint = `${process.env.REACT_APP_API_URL}/rest-api/presence/?start_date=${startDate}&end_date=${endDate}`\n  // const savedPresences = useGetAPI(endpoint)\n  // let clientDetailEND =  `${process.env.REACT_APP_API_URL}/rest-api/client${client}/`\n  // let presenceDetailEND =  `${process.env.REACT_APP_API_URL}/rest-api/presence/${presenceId}/`\n  // const getIdPresence = (client) => {\n  //    axios.get(`${process.env.REACT_APP_API_URL}/rest-api/clients/${client}/`).then(function (res) {\n  //       console.log('the last dataaa presence,', res.data.last_presence, client);\n  //       setPresenceId(res.data.last_presence)\n  //       // return res.data.last_presence\n  //    })\n  // }\n\n  const getCurrentDay = PresneceDate => {\n    const date = new Date(PresneceDate).getDay(); // console.log('le jour', date);\n\n    if (date === 0) {\n      return 'Dimanche';\n    } else if (date === 1) {\n      return 'Lundi';\n    } else if (date === 2) {\n      return 'Mardi';\n    } else if (date === 3) {\n      return 'Mercredi';\n    } else if (date === 4) {\n      return 'Jeudi';\n    } else if (date === 5) {\n      return 'Vendredi';\n    } else {\n      return 'Samedi';\n    }\n  };\n\n  useEffect(() => {\n    if (presenceCreatedSuccess == true) {\n      notifyPresenceSuccess();\n      setPresenceCreatedSuccess(false);\n    }\n  }, [presenceCreatedSuccess]);\n  useEffect(() => {\n    if (presenceError == true) {\n      notifyPresenceError();\n      setPresenceError(false);\n    }\n  }, [presenceError]);\n  useEffect(() => {\n    if (presenceupdatedSuccess == true) {\n      notifyPresenceUpdate();\n      setPresenceupdatedSuccess(false);\n    }\n  }, [presenceupdatedSuccess]);\n  useEffect(() => {\n    const presenceDateDate = async () => {\n      const dateDebut = formatDate(startDate);\n      const dateFin = formatDate(endDate);\n      const result = await axios.get(`${process.env.REACT_APP_API_URL}/rest-api/presence/?page=${nextpage}&start_date=${dateDebut}&end_date=${dateFin}&abc__client_id=${searchValue}&creneau__activity__salle=${salleId}&hour=${startHour}&creneau__activity=${filterActivity}`);\n      console.log('result ++++++++++++++++++++++++++++++++++++++ ', result.data);\n      setPresenceData(result.data.results);\n      setPresencesCount(result.data.count);\n    };\n\n    presenceDateDate();\n  }, [startDate, endDate, nextpage, searchValue, client, presenceCreatedSuccess, presenceupdatedSuccess, salleId, editModal, presneceCreateModal, startHour, filterActivity]);\n\n  const notifyPresenceSuccess = () => {\n    toast.success('Presence initialisé Avec Succée', {\n      position: 'top-right',\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true\n    });\n  };\n\n  const notifyPresenceUpdate = () => {\n    toast.success('la sortie du client a été éffectué Avec Succée', {\n      position: 'top-right',\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true\n    });\n  };\n\n  const notifyPresenceError = () => {\n    toast.error('le client avec l\\'ID ' + ' ' + clientId + ' ' + \"n'a pas le droit d'assisté a cours\", {\n      position: 'top-right',\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true\n    });\n  };\n\n  const HandleSubmit = e => {\n    e.preventDefault(); // getIdPresence(client)\n\n    const presenceData = axios.get(`${process.env.REACT_APP_API_URL}/rest-api/clients/${clientId}/`).then(async res => {\n      if (res.data.last_presence) {\n        // console.log('id de la presence', res.data.last_presence);\n        setPresenceId(res.data.last_presence); // console.log('erreur lors du cposr ligne 85', presenceId);\n\n        await axios.put(`${process.env.REACT_APP_API_URL}/rest-api/presence/edit/${res.data.last_presence}/`);\n        setPresenceupdatedSuccess(true);\n        return presenceData; // console.log(\"je suis lka N?\");\n      } else {\n        try {\n          const presenceData1 = await axios.post(presenceCreateEND, {\n            client: clientId\n          });\n          setPresenceCreatedSuccess(true);\n          console.log(\"me resutltat \", presenceData);\n          return presenceData1;\n        } catch (error) {\n          setPresenceError(true);\n          console.log('erreur lors du cposr', error);\n        }\n      }\n    }); // setClient('')\n    // refreshPage()\n  };\n\n  console.log('start date', startDate); // const HandleSubmit = (e) => {\n  //    e.preventDefault();\n  //    const clientId = {client : Number(client)}\n  //    // getIdPresence(client)\n  //    axios.post(presenceCreateEND, clientId).then(res=> {\n  //       // console.log('id de la presence', res.data.last_presence);\n  //       // setPresenceId(res.data.last_presence)\n  //       // console.log('erreur lors du cposr ligne 85', presenceId);\n  //       // axios.patch( `${process.env.REACT_APP_API_URL}/rest-api/presence/edit/${res.data.last_presence}/`)\n  //    }).catch( err => {\n  //       axios.get(`${process.env.REACT_APP_API_URL}/rest-api/clients/${client}/`).then(res=> {\n  //          console.log('id de la presence', res.data.last_presence);\n  //          setPresenceId(res.data.last_presence)\n  //          console.log('erreur lors du cposr ligne 85', presenceId);\n  //          axios.patch( `${process.env.REACT_APP_API_URL}/rest-api/presence/edit/${res.data.last_presence}/`)\n  //       })\n  //    }\n  // )}\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      target: \"_blank\",\n      to: `/client/${clientId}`,\n      children: /*#__PURE__*/_jsxDEV(ToastContainer, {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        newestOnTop: true,\n        closeOnClick: true,\n        rtl: false,\n        pauseOnFocusLoss: true,\n        draggable: true,\n        pauseOnHover: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"testimonial-one owl-right-nav owl-carousel owl-loaded owl-drag mb-4\",\n      children: /*#__PURE__*/_jsxDEV(ShortCuts, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"m-5 row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col- col-md-4\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: HandleSubmit,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"entree\",\n                children: \"Pr\\xE9sence Automatique \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"entree\",\n                type: \"text\",\n                className: \"form-control\",\n                placeholder: \" ID Client\",\n                onChange: e => setClientId(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 22\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6 mt-auto\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"success\",\n                type: \"submit\",\n                children: \" Valider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 22\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-2 mt-auto\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          onClick: e => setPresneceCreateModal(true),\n          children: \" Pr\\xE9sence Manuelle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ml-auto col-md-2\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-danger\",\n          children: [\"Total :\", presencesCount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row d-flex m-3 py-4\",\n      style: {\n        backgroundColor: '#ffffff'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" col-md-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            color: '#000000'\n          },\n          children: \"ID Adh\\xE9rant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"rechercher par ID Client\",\n          value: searchValue,\n          onChange: e => setSearchValue(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group col-md-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            color: '#000000'\n          },\n          children: \"Salle d'activit\\xE9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(Autocomplete // id={(option) =>  option['id']}\n        , {\n          onChange: (event, value) => {\n            try {\n              setSalleId(value.id);\n            } catch (error) {\n              setSalleId('');\n            }\n          } // onChange={handleSubmit}\n          ,\n          options: sallesData //  value={activities[creneauActivite]}\n          ,\n          getOptionSelected: option => option['id'],\n          getOptionLabel: option => option['name'],\n          style: {\n            color: '#000'\n          },\n          renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n            style: {\n              color: \"#000\"\n            },\n            className: \"text-light\",\n            label: \"Salles\",\n            variant: \"outlined\",\n            fullWidth: true,\n            InputLabelProps: {\n              style: {\n                color: '#000'\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group col-md-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            color: '#000000'\n          },\n          children: \"Activit\\xE9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(Autocomplete // id={(option) =>  option['id']}\n        , {\n          onChange: (event, value) => {\n            try {\n              setFilterActivity(value.id);\n            } catch (error) {\n              setFilterActivity('');\n            }\n          } // onChange={handleSubmit}\n          ,\n          options: activities,\n          style: {\n            color: '#000'\n          } //  value={activities[creneauActivite]}\n          ,\n          getOptionSelected: option => option['id'],\n          getOptionLabel: option => option['name'],\n          renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n            InputLabelProps: {\n              style: {\n                color: '#000'\n              }\n            },\n            style: {\n              color: '#ffffff'\n            },\n            label: \"Activit\\xE9es\",\n            variant: \"outlined\",\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group col-md-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            color: '#000000'\n          },\n          htmlFor: \"birth_date\",\n          children: \"Date d\\xE9but \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"start_date\",\n          className: \"form-control\",\n          value: startDate,\n          onChange: e => setStartDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group col-md-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            color: '#000000'\n          },\n          htmlFor: \"end_date\",\n          children: \"Date Fin \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"end_date\",\n          className: \"form-control\",\n          value: endDate,\n          onChange: e => setEndDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group col-md-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            color: '#000000'\n          },\n          htmlFor: \"start_hour\",\n          children: \"Heure du cr\\xE9neau\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"time\",\n          name: \"start_hour\",\n          className: \"form-control\",\n          value: startHour,\n          onChange: e => setStartHour(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            style: {\n              padding: '5px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-responsive\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"table mb-0 table-striped\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"customer_shop\",\n                      children: \" ID \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 360,\n                      columnNumber: 34\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Nom\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 361,\n                      columnNumber: 34\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Activit\\xE9\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 362,\n                      columnNumber: 34\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \" Date \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 363,\n                      columnNumber: 34\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \" Jour \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 364,\n                      columnNumber: 34\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"pl-5 width200\",\n                      children: \" Heure d'entr\\xE9e \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 365,\n                      columnNumber: 34\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \" Heure de sortie \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 366,\n                      columnNumber: 34\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \" Notes \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 367,\n                      columnNumber: 34\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"text-right\",\n                      children: \"Dettes \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 368,\n                      columnNumber: 34\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 28\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  id: \"customers\",\n                  children: presenceData.map(presence => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    role: \"row presences\",\n                    className: \"btn-reveal-trigger cursor-abonnement presences p-0\",\n                    onClick: e => {\n                      setEditModal(true);\n                      setClient(presence.client_last_name);\n                      setClientId(presence.client);\n                      setPresenceId(presence.id);\n                      setHourIn(presence.hour_entree);\n                      setHourOut(presence.hour_sortie);\n                      setCreneau(presence.creneau);\n                      setNote(presence.note);\n                      setDate(presence.date);\n                      setActivity(presence.activity);\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"customer_shop_single\",\n                      children: [\" \", presence.client, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 385,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"media d-flex align-items-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"media-body\",\n                          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                            className: \"mb-0 fs--1\",\n                            children: presence.client_last_name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 390,\n                            columnNumber: 49\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 389,\n                          columnNumber: 46\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 388,\n                        columnNumber: 43\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 386,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: presence.activity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 397,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: presence.date\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 398,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: getCurrentDay(presence.date)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 399,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \" pl-5 wspace-no\",\n                      children: [\" \", presence.hour_entree, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 400,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: presence.hour_sortie\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 401,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \" text-left\",\n                      children: presence.note\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 402,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \" text-right text-danger\",\n                      children: presence.dettes.reste__sum\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 403,\n                      columnNumber: 37\n                    }, this)]\n                  }, presence.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 34\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 28\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 22\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(PresenceEditModal, {\n        show: editModal,\n        onShowShange: setEditModal,\n        presenceData: {\n          presenceId: presenceId,\n          client: client,\n          hourIn: hourIn,\n          hourOut: hourOut,\n          creneau: creneau,\n          note: note,\n          clientId: clientId,\n          date: date,\n          activity: activity\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(PresenceCreateModal, {\n        show: presneceCreateModal,\n        onShowShange: setPresneceCreateModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 10\n    }, this), !searchBarActivated && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex text-center justify-content-end\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dataTables_info text-black\",\n        id: \"example5_info \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dataTables_paginate paging_simple_numbers\",\n        id: \"example5_paginate\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => nextpage > 0 && setNextpage(nextpage - 1),\n          style: {\n            width: '100px',\n            border: 'none',\n            height: '48px',\n            color: '#ffffff',\n            textAlign: 'left',\n            fontSize: '15px',\n            paddingLeft: '8px'\n          },\n          children: \"Pr\\xE9c\\xE9dent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            to: \"/transactions\",\n            type: \"number\",\n            className: \"paginate_button_client\",\n            onChange: e => setNextpage(e.target.value),\n            value: nextpage,\n            style: {\n              width: '100px',\n              border: 'none',\n              height: '99%',\n              textAlign: 'center',\n              fontSize: '15px',\n              backgroundColor: '#ffffff'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            width: '100px',\n            border: 'none',\n            height: '48px',\n            color: '#ffffff',\n            textAlign: 'center',\n            fontSize: '15px',\n            padding: '2px'\n          },\n          onClick: () => nextpage > 0 && setNextpage(Number(nextpage) + 1),\n          children: \"Suivant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 7\n  }, this);\n};\n\n_s(PresenceList, \"k19rJabX6s4oRIxIxbAhTI905F4=\", false, function () {\n  return [useGetAPI, useGetAPI];\n});\n\n_c2 = PresenceList;\nexport default PresenceList;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Drop\");\n$RefreshReg$(_c2, \"PresenceList\");","map":{"version":3,"sources":["/home/bil/Desktop/web projects/octopus/Octogym/frontend/src/jsx/components/presence/PresenceList.jsx"],"names":["React","Fragment","useState","useEffect","PageTitle","Dropdown","axios","Search","Row","Card","Col","Button","Modal","Container","ShortCuts","ToastContainer","toast","Autocomplete","Link","useGetAPI","usePostAPI","PresenceEditModal","PresenceCreateModal","TextField","ClientContext","createContext","refreshPage","window","location","reload","removeObject","props","endpoint","process","env","REACT_APP_API_URL","delete","id","Drop","PresenceList","editModal","setEditModal","presneceCreateModal","setPresneceCreateModal","nextpage","setNextpage","client","setClient","clientId","setClientId","presenceId","setPresenceId","hourIn","setHourIn","hourOut","setHourOut","creneau","setCreneau","note","setNote","date","setDate","activity","setActivity","filterActivity","setFilterActivity","presenceSuccess","setPresenceSuccess","presenceError","setPresenceError","presenceupdatedSuccess","setPresenceupdatedSuccess","presenceCreatedSuccess","setPresenceCreatedSuccess","searchValue","setSearchValue","searchBarActivated","setSearchBarActivated","presenceData","setPresenceData","presencesCount","setPresencesCount","console","log","capitalizeFirstLetter","word","charAt","toUpperCase","slice","formatDate","returned","Date","toISOString","error","startDate","setStartDate","endDate","setEndDate","salleId","setSalleId","startHour","setStartHour","sallesData","activities","presenceCreateEND","getCurrentDay","PresneceDate","getDay","notifyPresenceSuccess","notifyPresenceError","notifyPresenceUpdate","presenceDateDate","dateDebut","dateFin","result","get","data","results","count","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","HandleSubmit","e","preventDefault","then","res","last_presence","put","presenceData1","post","target","value","backgroundColor","color","event","option","params","style","padding","map","presence","client_last_name","hour_entree","hour_sortie","dettes","reste__sum","width","border","height","textAlign","fontSize","paddingLeft","Number"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA2BC,QAA3B,EAAqCC,SAArC,QAAqD,OAArD;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAASC,QAAT,QAAyB,iBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,GAAT,EAAcC,IAAd,EAAoBC,GAApB,EAAyBC,MAAzB,EAAiCC,KAAjC,EAAwCC,SAAxC,QAAyD,iBAAzD;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC,C,CACA;;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,WAAtC;AAEA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;AACA,OAAOC,SAAP,MAAsB,6BAAtB;;AAEA,OAAO,MAAMC,aAAa,gBAAGxB,KAAK,CAACyB,aAAN,EAAtB;;AACP,SAASC,WAAT,GAAuB;AACpBC,EAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACD;;AACD,MAAMC,YAAY,GAAG,MAAOC,KAAP,IAAiB;AACpC,MAAIC,QAAQ,GAAI,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,4BAAhD;AACA,QAAM7B,KAAK,CAAC8B,MAAN,CAAaJ,QAAQ,GAAGD,KAAK,CAACM,EAA9B,CAAN;AACA,CAHF;;AAID,MAAMC,IAAI,GAAIP,KAAD,IAAW;AACrB,sBAAO,QAAC,QAAD;AAAA,4BACE,QAAC,QAAD,CAAU,MAAV;AAAiB,MAAA,OAAO,EAAC,EAAzB;AAA4B,MAAA,SAAS,EAAC,wBAAtC;AAAA,6BACG;AAAK,QAAA,KAAK,EAAC,MAAX;AAAkB,QAAA,MAAM,EAAC,MAAzB;AAAgC,QAAA,OAAO,EAAC,WAAxC;AAAoD,QAAA,OAAO,EAAC,KAA5D;AAAA,+BACG;AAAG,UAAA,MAAM,EAAC,MAAV;AAAiB,UAAA,WAAW,EAAC,GAA7B;AAAiC,UAAA,IAAI,EAAC,MAAtC;AAA6C,UAAA,QAAQ,EAAC,SAAtD;AAAA,kCACG;AAAM,YAAA,CAAC,EAAC,GAAR;AAAY,YAAA,CAAC,EAAC,GAAd;AAAkB,YAAA,KAAK,EAAC,IAAxB;AAA6B,YAAA,MAAM,EAAC;AAApC;AAAA;AAAA;AAAA;AAAA,kBADH,eAEG;AAAQ,YAAA,IAAI,EAAC,SAAb;AAAuB,YAAA,EAAE,EAAC,GAA1B;AAA8B,YAAA,EAAE,EAAC,IAAjC;AAAsC,YAAA,CAAC,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,kBAFH,eAGG;AAAQ,YAAA,IAAI,EAAC,SAAb;AAAuB,YAAA,EAAE,EAAC,IAA1B;AAA+B,YAAA,EAAE,EAAC,IAAlC;AAAuC,YAAA,CAAC,EAAC;AAAzC;AAAA;AAAA;AAAA;AAAA,kBAHH,eAIG;AAAQ,YAAA,IAAI,EAAC,SAAb;AAAuB,YAAA,EAAE,EAAC,IAA1B;AAA+B,YAAA,EAAE,EAAC,IAAlC;AAAuC,YAAA,CAAC,EAAC;AAAzC;AAAA;AAAA;AAAA;AAAA,kBAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,YADF,eAWE,QAAC,QAAD,CAAU,IAAV;AAAA,8BACG,QAAC,QAAD,CAAU,IAAV;AAAe,QAAA,IAAI,EAAG,kBAAiBA,KAAK,CAACM,EAAG,EAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADH,eAEG,QAAC,QAAD,CAAU,IAAV;AAAe,QAAA,IAAI,EAAC,QAApB;AAA6B,QAAA,SAAS,EAAC,aAAvC;AAAqD,QAAA,OAAO,EAAG,YAAY;AACtE,gBAAM/B,KAAK,CAAC8B,MAAN,CAAc,GAAEH,OAAO,CAACC,GAAR,CAAYC,iBAAkB,6BAA4BJ,KAAK,CAACM,EAAG,GAAnF,CAAN;AACAX,UAAAA,WAAW;AACV,SAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFH;AAAA;AAAA;AAAA;AAAA;AAAA,YAXF;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAqBF,CAtBD;;KAAMY,I;;AAwBN,MAAMC,YAAY,GAAG,MAAM;AAAA;;AACxB,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BvC,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACwC,mBAAD,EAAsBC,sBAAtB,IAAgDzC,QAAQ,CAAC,KAAD,CAA9D;AACA,QAAM,CAAC0C,QAAD,EAAWC,WAAX,IAA0B3C,QAAQ,CAAC,CAAD,CAAxC;AACA,QAAM,CAAC4C,MAAD,EAASC,SAAT,IAAuB7C,QAAQ,CAAC,EAAD,CAArC;AACA,QAAM,CAAC8C,QAAD,EAAWC,WAAX,IAA2B/C,QAAQ,CAAC,EAAD,CAAzC;AACA,QAAM,CAACgD,UAAD,EAAaC,aAAb,IAA+BjD,QAAQ,CAAC,EAAD,CAA7C;AACA,QAAM,CAACkD,MAAD,EAASC,SAAT,IAAuBnD,QAAQ,CAAC,EAAD,CAArC;AACA,QAAM,CAACoD,OAAD,EAAUC,UAAV,IAAyBrD,QAAQ,CAAC,EAAD,CAAvC;AACA,QAAM,CAACsD,OAAD,EAASC,UAAT,IAAuBvD,QAAQ,CAAC,EAAD,CAArC;AACA,QAAM,CAACwD,IAAD,EAAOC,OAAP,IAAkBzD,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAAC0D,IAAD,EAAOC,OAAP,IAAkB3D,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAAC4D,QAAD,EAAWC,WAAX,IAA0B7D,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAAC8D,cAAD,EAAiBC,iBAAjB,IAAsC/D,QAAQ,CAAC,EAAD,CAApD;AACA,QAAM,CAACgE,eAAD,EAAkBC,kBAAlB,IAAwCjE,QAAQ,CAAC,KAAD,CAAtD;AACA,QAAM,CAACkE,aAAD,EAAgBC,gBAAhB,IAAoCnE,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM,CAACoE,sBAAD,EAAyBC,yBAAzB,IAAsDrE,QAAQ,CAAC,KAAD,CAApE;AACA,QAAM,CAACsE,sBAAD,EAAyBC,yBAAzB,IAAsDvE,QAAQ,CAAC,KAAD,CAApE;AACA,QAAM,CAACwE,WAAD,EAAcC,cAAd,IAAgCzE,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAAC0E,kBAAD,EAAqBC,qBAArB,IAA8C3E,QAAQ,CAAC,KAAD,CAA5D;AACA,QAAM,CAAC4E,YAAD,EAAeC,eAAf,IAAkC7E,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAAC8E,cAAD,EAAiBC,iBAAjB,IAAsC/E,QAAQ,CAAC,EAAD,CAApD;AAEAgF,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCrC,MAAjC,EAvBwB,CAyBxB;;AAEA,QAAMsC,qBAAqB,GAAIC,IAAD,IAAU;AACrC,QAAIA,IAAJ,EACA,OAAOA,IAAI,CAACC,MAAL,CAAY,CAAZ,EAAeC,WAAf,KAA+BF,IAAI,CAACG,KAAL,CAAW,CAAX,CAAtC;AACA,WAAO,EAAP;AACF,GAJD;;AAMA,QAAMC,UAAU,GAAI7B,IAAD,IAAU;AAC1B,QAAI;AACD,YAAM8B,QAAQ,GAAG,IAAIC,IAAJ,CAAS/B,IAAT,EAAegC,WAAf,GAA6BJ,KAA7B,CAAmC,CAAnC,EAAsC,EAAtC,CAAjB;AACA,aAAOE,QAAP;AACF,KAHD,CAGE,OAAOG,KAAP,EAAc;AACb,YAAMH,QAAQ,GAAG,IAAIC,IAAJ,GAAWC,WAAX,GAAyBJ,KAAzB,CAA+B,CAA/B,EAAkC,EAAlC,CAAjB;AACA,aAAOE,QAAP;AACF;AACH,GARD;;AAUA,QAAM,CAACI,SAAD,EAAYC,YAAZ,IAA4B7F,QAAQ,CAACuF,UAAU,CAAC,IAAIE,IAAJ,CAAS,YAAT,CAAD,CAAX,CAA1C;AACA,QAAM,CAACK,OAAD,EAAUC,UAAV,IAAwB/F,QAAQ,CAACuF,UAAU,CAAC,IAAIE,IAAJ,EAAD,CAAX,CAAtC;AACA,QAAM,CAACO,OAAD,EAAUC,UAAV,IAAwBjG,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACkG,SAAD,EAAYC,YAAZ,IAA4BnG,QAAQ,CAAC,EAAD,CAA1C;AACAgF,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BiB,SAA9B;AACA,QAAME,UAAU,GAAGnF,SAAS,CAAE,GAAEc,OAAO,CAACC,GAAR,CAAYC,iBAAkB,2BAAlC,CAA5B;AACA,QAAMoE,UAAU,GAAGpF,SAAS,CAAE,GAAEc,OAAO,CAACC,GAAR,CAAYC,iBAAkB,oCAAlC,CAA5B,CAjDwB,CAkDxB;;AACA,MAAIqE,iBAAiB,GAAK,GAAEvE,OAAO,CAACC,GAAR,CAAYC,iBAAkB,gCAA1D,CAnDwB,CAqDxB;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEH,QAAMsE,aAAa,GAAIC,YAAD,IAAmB;AACtC,UAAM9C,IAAI,GAAG,IAAI+B,IAAJ,CAASe,YAAT,EAAuBC,MAAvB,EAAb,CADsC,CAEtC;;AACA,QAAI/C,IAAI,KAAK,CAAb,EAAgB;AACb,aAAO,UAAP;AACF,KAFD,MAEM,IAAIA,IAAI,KAAK,CAAb,EAAe;AAClB,aAAO,OAAP;AAEF,KAHK,MAGA,IAAIA,IAAI,KAAK,CAAb,EAAe;AAClB,aAAO,OAAP;AAEF,KAHK,MAGA,IAAIA,IAAI,KAAK,CAAb,EAAe;AAClB,aAAO,UAAP;AAEF,KAHK,MAGA,IAAIA,IAAI,KAAK,CAAb,EAAe;AAClB,aAAO,OAAP;AAEF,KAHK,MAGA,IAAIA,IAAI,KAAK,CAAb,EAAe;AAClB,aAAO,UAAP;AACF,KAFK,MAEA;AACH,aAAO,QAAP;AACF;AACH,GAtBD;;AAuBGzD,EAAAA,SAAS,CAAC,MAAM;AACb,QAAIqE,sBAAsB,IAAI,IAA9B,EAAoC;AAClCoC,MAAAA,qBAAqB;AACrBnC,MAAAA,yBAAyB,CAAC,KAAD,CAAzB;AACD;AACF,GALO,EAKL,CAACD,sBAAD,CALK,CAAT;AAMArE,EAAAA,SAAS,CAAC,MAAM;AACb,QAAIiE,aAAa,IAAI,IAArB,EAA2B;AACzByC,MAAAA,mBAAmB;AACnBxC,MAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACD;AACF,GALO,EAKL,CAACD,aAAD,CALK,CAAT;AAMAjE,EAAAA,SAAS,CAAC,MAAM;AACb,QAAImE,sBAAsB,IAAI,IAA9B,EAAoC;AACjCwC,MAAAA,oBAAoB;AACpBvC,MAAAA,yBAAyB,CAAC,KAAD,CAAzB;AACF;AACF,GALO,EAKL,CAACD,sBAAD,CALK,CAAT;AAQAnE,EAAAA,SAAS,CAAC,MAAM;AACb,UAAM4G,gBAAgB,GAAG,YAAY;AAClC,YAAMC,SAAS,GAAGvB,UAAU,CAACK,SAAD,CAA5B;AACA,YAAMmB,OAAO,GAAGxB,UAAU,CAACO,OAAD,CAA1B;AACA,YAAMkB,MAAM,GAAI,MAAM5G,KAAK,CAAC6G,GAAN,CAAW,GAAElF,OAAO,CAACC,GAAR,CAAYC,iBAAkB,4BAA2BS,QAAS,eAAcoE,SAAU,aAAYC,OAAQ,mBAAkBvC,WAAY,6BAA4BwB,OAAQ,SAAQE,SAAU,sBAAqBpC,cAAe,EAAnP,CAAtB;AACAkB,MAAAA,OAAO,CAACC,GAAR,CAAY,gDAAZ,EAA8D+B,MAAM,CAACE,IAArE;AACGrC,MAAAA,eAAe,CAACmC,MAAM,CAACE,IAAP,CAAYC,OAAb,CAAf;AACApC,MAAAA,iBAAiB,CAACiC,MAAM,CAACE,IAAP,CAAYE,KAAb,CAAjB;AACL,KAPD;;AAQAP,IAAAA,gBAAgB;AAClB,GAVQ,EAUN,CAACjB,SAAD,EAAYE,OAAZ,EAAqBpD,QAArB,EAA+B8B,WAA/B,EAA4C5B,MAA5C,EAAoD0B,sBAApD,EAA4EF,sBAA5E,EAAoG4B,OAApG,EAA6G1D,SAA7G,EAAwHE,mBAAxH,EAA6I0D,SAA7I,EAAwJpC,cAAxJ,CAVM,CAAT;;AAYA,QAAM4C,qBAAqB,GAAG,MAAM;AACjC5F,IAAAA,KAAK,CAACuG,OAAN,CAAc,iCAAd,EAAiD;AAC/CC,MAAAA,QAAQ,EAAE,WADqC;AAE/CC,MAAAA,SAAS,EAAE,IAFoC;AAG/CC,MAAAA,eAAe,EAAE,KAH8B;AAI/CC,MAAAA,YAAY,EAAE,IAJiC;AAK/CC,MAAAA,YAAY,EAAE,IALiC;AAM/CC,MAAAA,SAAS,EAAE;AANoC,KAAjD;AAQD,GATF;;AAUC,QAAMf,oBAAoB,GAAG,MAAM;AACjC9F,IAAAA,KAAK,CAACuG,OAAN,CAAc,gDAAd,EAAgE;AAC9DC,MAAAA,QAAQ,EAAE,WADoD;AAE9DC,MAAAA,SAAS,EAAE,IAFmD;AAG9DC,MAAAA,eAAe,EAAE,KAH6C;AAI9DC,MAAAA,YAAY,EAAE,IAJgD;AAK9DC,MAAAA,YAAY,EAAE,IALgD;AAM9DC,MAAAA,SAAS,EAAE;AANmD,KAAhE;AAQD,GATD;;AAUA,QAAMhB,mBAAmB,GAAG,MAAM;AAChC7F,IAAAA,KAAK,CAAC6E,KAAN,CAAY,0BAA0B,GAA1B,GAAgC7C,QAAhC,GAA2C,GAA3C,GAAiD,oCAA7D,EAAmG;AACjGwE,MAAAA,QAAQ,EAAE,WADuF;AAEjGC,MAAAA,SAAS,EAAE,IAFsF;AAGjGC,MAAAA,eAAe,EAAE,KAHgF;AAIjGC,MAAAA,YAAY,EAAE,IAJmF;AAKjGC,MAAAA,YAAY,EAAE,IALmF;AAMjGC,MAAAA,SAAS,EAAE;AANsF,KAAnG;AAQD,GATD;;AAUD,QAAMC,YAAY,GAAKC,CAAD,IAAO;AACvBA,IAAAA,CAAC,CAACC,cAAF,GADuB,CAEvB;;AACA,UAAMlD,YAAY,GAAIxE,KAAK,CAAC6G,GAAN,CAAW,GAAElF,OAAO,CAACC,GAAR,CAAYC,iBAAkB,qBAAoBa,QAAS,GAAxE,EAA4EiF,IAA5E,CAAiF,MAAMC,GAAN,IAAY;AAChH,UAAIA,GAAG,CAACd,IAAJ,CAASe,aAAb,EAA4B;AACzB;AACAhF,QAAAA,aAAa,CAAC+E,GAAG,CAACd,IAAJ,CAASe,aAAV,CAAb,CAFyB,CAGzB;;AACA,cAAM7H,KAAK,CAAC8H,GAAN,CAAY,GAAEnG,OAAO,CAACC,GAAR,CAAYC,iBAAkB,2BAA0B+F,GAAG,CAACd,IAAJ,CAASe,aAAc,GAA7F,CAAN;AACA5D,QAAAA,yBAAyB,CAAC,IAAD,CAAzB;AACA,eAAOO,YAAP,CANyB,CAOzB;AACF,OARD,MAQO;AACJ,YAAI;AACD,gBAAMuD,aAAa,GAAG,MAAM/H,KAAK,CAACgI,IAAN,CAAW9B,iBAAX,EAA6B;AAAC1D,YAAAA,MAAM,EAAEE;AAAT,WAA7B,CAA5B;AACAyB,UAAAA,yBAAyB,CAAC,IAAD,CAAzB;AACAS,UAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BL,YAA7B;AACA,iBAAOuD,aAAP;AACF,SALD,CAKC,OAAOxC,KAAP,EAAc;AACZxB,UAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACAa,UAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAmCU,KAAnC;AACF;AACH;AACH,KApBqB,CAAtB,CAHuB,CAwBvB;AACH;AACF,GA1BD;;AA2BHX,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BW,SAA1B,EApL2B,CAsLxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,sBACG,QAAC,QAAD;AAAA,4BACG,QAAC,IAAD;AAAM,MAAA,MAAM,EAAC,QAAb;AAAsB,MAAA,EAAE,EAAG,WAAU9C,QAAS,EAA9C;AAAA,6BACG,QAAC,cAAD;AAAgB,QAAA,QAAQ,EAAC,WAAzB;AAAqC,QAAA,SAAS,EAAE,IAAhD;AAAsD,QAAA,eAAe,EAAE,KAAvE;AAA8E,QAAA,WAAW,MAAzF;AAA0F,QAAA,YAAY,MAAtG;AAAuG,QAAA,GAAG,EAAE,KAA5G;AAAmH,QAAA,gBAAgB,MAAnI;AAAoI,QAAA,SAAS,MAA7I;AAA8I,QAAA,YAAY;AAA1J;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,YADH,eAIG;AAAK,MAAA,SAAS,EAAC,qEAAf;AAAA,6BACG,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,YAJH,eAOG;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA,8BACG;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,+BACG;AAAM,UAAA,QAAQ,EAAE8E,YAAhB;AAAA,iCACG;AAAK,YAAA,SAAS,EAAC,KAAf;AAAA,oCACG;AAAK,cAAA,SAAS,EAAC,OAAf;AAAA,sCACA;AAAO,gBAAA,OAAO,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,eAEG;AAAO,gBAAA,IAAI,EAAC,QAAZ;AAAqB,gBAAA,IAAI,EAAC,MAA1B;AAAiC,gBAAA,SAAS,EAAC,cAA3C;AAA0D,gBAAA,WAAW,EAAC,YAAtE;AAAmF,gBAAA,QAAQ,EAAEC,CAAC,IAAK9E,WAAW,CAAC8E,CAAC,CAACQ,MAAF,CAASC,KAAV;AAA9G;AAAA;AAAA;AAAA;AAAA,sBAFH;AAAA;AAAA;AAAA;AAAA;AAAA,oBADH,eAKG;AAAK,cAAA,SAAS,EAAC,eAAf;AAAA,qCACG,QAAC,MAAD;AAAS,gBAAA,OAAO,EAAC,SAAjB;AAA2B,gBAAA,IAAI,EAAC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,oBALH;AAAA;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,cADH,eAcG;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,+BACG,QAAC,MAAD;AAAS,UAAA,OAAO,EAAC,SAAjB;AAA2B,UAAA,IAAI,EAAC,QAAhC;AAAyC,UAAA,OAAO,EAAET,CAAC,IAAIpF,sBAAsB,CAAC,IAAD,CAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,cAdH,eAiBG;AAAM,QAAA,SAAS,EAAC,kBAAhB;AAAA,+BACG;AAAI,UAAA,SAAS,EAAC,aAAd;AAAA,gCAAoCqC,cAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,cAjBH;AAAA;AAAA;AAAA;AAAA;AAAA,YAPH,eA4BG;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAqC,MAAA,KAAK,EAAE;AAACyD,QAAAA,eAAe,EAAC;AAAjB,OAA5C;AAAA,8BACG;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACG;AAAO,UAAA,KAAK,EAAE;AAACC,YAAAA,KAAK,EAAC;AAAP,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADH,eAEG;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,SAAS,EAAC,cAA7B;AAA4C,UAAA,WAAW,EAAC,0BAAxD;AAAmF,UAAA,KAAK,EAAEhE,WAA1F;AAAuG,UAAA,QAAQ,EAAEqD,CAAC,IAAIpD,cAAc,CAACoD,CAAC,CAACQ,MAAF,CAASC,KAAV;AAApI;AAAA;AAAA;AAAA;AAAA,gBAFH;AAAA;AAAA;AAAA;AAAA;AAAA,cADH,eAKG;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA,gCACG;AAAO,UAAA,KAAK,EAAE;AAACE,YAAAA,KAAK,EAAC;AAAP,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADH,eAEM,QAAC,YAAD,CACA;AADA;AAEA,UAAA,QAAQ,EAAG,CAACC,KAAD,EAAQH,KAAR,KAAmB;AAC3B,gBAAI;AACDrC,cAAAA,UAAU,CAACqC,KAAK,CAACnG,EAAP,CAAV;AACF,aAFD,CAEE,OAAOwD,KAAP,EAAc;AACbM,cAAAA,UAAU,CAAC,EAAD,CAAV;AACF;AACH,WARD,CASA;AATA;AAUA,UAAA,OAAO,EAAEG,UAVT,CAWA;AAXA;AAaA,UAAA,iBAAiB,EAAGsC,MAAD,IAAaA,MAAM,CAAC,IAAD,CAbtC;AAcA,UAAA,cAAc,EAAGA,MAAD,IAAaA,MAAM,CAAC,MAAD,CAdnC;AAeA,UAAA,KAAK,EAAE;AAAEF,YAAAA,KAAK,EAAE;AAAT,WAfP;AAgBA,UAAA,WAAW,EAAGG,MAAD,iBACV,QAAC,SAAD,OAAeA,MAAf;AAAuB,YAAA,KAAK,EAAE;AAACH,cAAAA,KAAK,EAAC;AAAP,aAA9B;AAA+C,YAAA,SAAS,EAAC,YAAzD;AAAsE,YAAA,KAAK,EAAC,QAA5E;AAAqF,YAAA,OAAO,EAAC,UAA7F;AAAwG,YAAA,SAAS,MAAjH;AACA,YAAA,eAAe,EAAE;AACdI,cAAAA,KAAK,EAAE;AAAEJ,gBAAAA,KAAK,EAAE;AAAT;AADO;AADjB;AAAA;AAAA;AAAA;AAAA;AAjBH;AAAA;AAAA;AAAA;AAAA,gBAFN;AAAA;AAAA;AAAA;AAAA;AAAA,cALH,eAgCG;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA,gCACG;AAAO,UAAA,KAAK,EAAE;AAACA,YAAAA,KAAK,EAAC;AAAP,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADH,eAEG,QAAC,YAAD,CACA;AADA;AAEA,UAAA,QAAQ,EAAG,CAACC,KAAD,EAAQH,KAAR,KAAmB;AAC3B,gBAAI;AACDvE,cAAAA,iBAAiB,CAACuE,KAAK,CAACnG,EAAP,CAAjB;AACF,aAFD,CAEE,OAAOwD,KAAP,EAAc;AACb5B,cAAAA,iBAAiB,CAAC,EAAD,CAAjB;AACF;AACH,WARD,CASA;AATA;AAUA,UAAA,OAAO,EAAEsC,UAVT;AAWA,UAAA,KAAK,EAAE;AAAEmC,YAAAA,KAAK,EAAE;AAAT,WAXP,CAYA;AAZA;AAaA,UAAA,iBAAiB,EAAGE,MAAD,IAAaA,MAAM,CAAC,IAAD,CAbtC;AAcA,UAAA,cAAc,EAAGA,MAAD,IAAaA,MAAM,CAAC,MAAD,CAdnC;AAeA,UAAA,WAAW,EAAGC,MAAD,iBACV,QAAC,SAAD,OAAeA,MAAf;AACG,YAAA,eAAe,EAAE;AACdC,cAAAA,KAAK,EAAE;AAAEJ,gBAAAA,KAAK,EAAE;AAAT;AADO,aADpB;AAIA,YAAA,KAAK,EAAE;AAACA,cAAAA,KAAK,EAAC;AAAP,aAJP;AAI2B,YAAA,KAAK,EAAC,eAJjC;AAI8C,YAAA,OAAO,EAAC,UAJtD;AAIiE,YAAA,SAAS;AAJ1E;AAAA;AAAA;AAAA;AAAA;AAhBH;AAAA;AAAA;AAAA;AAAA,gBAFH;AAAA;AAAA;AAAA;AAAA;AAAA,cAhCH,eAyDG;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA,gCACG;AAAO,UAAA,KAAK,EAAE;AAACA,YAAAA,KAAK,EAAC;AAAP,WAAd;AAAiC,UAAA,OAAO,EAAC,YAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADH,eAEG;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,IAAI,EAAC,YAAxB;AAAqC,UAAA,SAAS,EAAC,cAA/C;AAA8D,UAAA,KAAK,EAAE5C,SAArE;AAAiF,UAAA,QAAQ,EAAEiC,CAAC,IAAIhC,YAAY,CAACgC,CAAC,CAACQ,MAAF,CAASC,KAAV;AAA5G;AAAA;AAAA;AAAA;AAAA,gBAFH;AAAA;AAAA;AAAA;AAAA;AAAA,cAzDH,eA6DG;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA,gCACG;AAAO,UAAA,KAAK,EAAE;AAACE,YAAAA,KAAK,EAAC;AAAP,WAAd;AAAiC,UAAA,OAAO,EAAC,UAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADH,eAEG;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,IAAI,EAAC,UAAxB;AAAmC,UAAA,SAAS,EAAC,cAA7C;AAA4D,UAAA,KAAK,EAAE1C,OAAnE;AAA4E,UAAA,QAAQ,EAAE+B,CAAC,IAAI9B,UAAU,CAAC8B,CAAC,CAACQ,MAAF,CAASC,KAAV;AAArG;AAAA;AAAA;AAAA;AAAA,gBAFH;AAAA;AAAA;AAAA;AAAA;AAAA,cA7DH,eAiEG;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA,gCACG;AAAO,UAAA,KAAK,EAAE;AAACE,YAAAA,KAAK,EAAC;AAAP,WAAd;AAAiC,UAAA,OAAO,EAAC,YAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADH,eAEG;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,IAAI,EAAC,YAAxB;AAAqC,UAAA,SAAS,EAAC,cAA/C;AAA8D,UAAA,KAAK,EAAEtC,SAArE;AAAgF,UAAA,QAAQ,EAAE2B,CAAC,IAAI1B,YAAY,CAAC0B,CAAC,CAACQ,MAAF,CAASC,KAAV;AAA3G;AAAA;AAAA;AAAA;AAAA,gBAFH;AAAA;AAAA;AAAA;AAAA;AAAA,cAjEH;AAAA;AAAA;AAAA;AAAA;AAAA,YA5BH,eAkGG;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA,8BACG;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,+BACG;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA,iCACG;AAAK,YAAA,SAAS,EAAC,WAAf;AAA2B,YAAA,KAAK,EAAE;AAACO,cAAAA,OAAO,EAAE;AAAV,aAAlC;AAAA,mCACG;AAAK,cAAA,SAAS,EAAC,kBAAf;AAAA,qCACG;AAAO,gBAAA,SAAS,EAAC,0BAAjB;AAAA,wCACG;AAAA,yCACG;AAAA,4CACG;AAAI,sBAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADH,eAEG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFH,eAGG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAHH,eAIG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAJH,eAKG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BALH,eAMG;AAAI,sBAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BANH,eAOG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAPH,eAQG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BARH,eASG;AAAI,sBAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BATH;AAAA;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,wBADH,eAcG;AAAO,kBAAA,EAAE,EAAC,WAAV;AAAA,4BACIjE,YAAY,CAACkE,GAAb,CAAiBC,QAAQ,iBACvB;AAAI,oBAAA,IAAI,EAAC,eAAT;AAA2C,oBAAA,SAAS,EAAC,oDAArD;AAAyG,oBAAA,OAAO,EAAElB,CAAC,IAAI;AACpHtF,sBAAAA,YAAY,CAAC,IAAD,CAAZ;AACAM,sBAAAA,SAAS,CAACkG,QAAQ,CAACC,gBAAV,CAAT;AACAjG,sBAAAA,WAAW,CAACgG,QAAQ,CAACnG,MAAV,CAAX;AACAK,sBAAAA,aAAa,CAAC8F,QAAQ,CAAC5G,EAAV,CAAb;AACAgB,sBAAAA,SAAS,CAAC4F,QAAQ,CAACE,WAAV,CAAT;AACA5F,sBAAAA,UAAU,CAAC0F,QAAQ,CAACG,WAAV,CAAV;AACA3F,sBAAAA,UAAU,CAACwF,QAAQ,CAACzF,OAAV,CAAV;AACAG,sBAAAA,OAAO,CAACsF,QAAQ,CAACvF,IAAV,CAAP;AACAG,sBAAAA,OAAO,CAACoF,QAAQ,CAACrF,IAAV,CAAP;AACAG,sBAAAA,WAAW,CAACkF,QAAQ,CAACnF,QAAV,CAAX;AACF,qBAXD;AAAA,4CAYG;AAAI,sBAAA,SAAS,EAAC,sBAAd;AAAA,sCAAuCmF,QAAQ,CAACnG,MAAhD;AAAA;AAAA;AAAA;AAAA;AAAA,4BAZH,eAaG;AAAI,sBAAA,SAAS,EAAC,EAAd;AAAA,6CAEM;AAAK,wBAAA,SAAS,EAAC,iCAAf;AAAA,+CACG;AAAK,0BAAA,SAAS,EAAC,YAAf;AAAA,iDACG;AAAI,4BAAA,SAAS,EAAC,YAAd;AAAA,sCACImG,QAAQ,CAACC;AADb;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA;AAFN;AAAA;AAAA;AAAA;AAAA,4BAbH,eAwBG;AAAA,gCAAMD,QAAQ,CAACnF;AAAf;AAAA;AAAA;AAAA;AAAA,4BAxBH,eAyBG;AAAA,gCAAMmF,QAAQ,CAACrF;AAAf;AAAA;AAAA;AAAA;AAAA,4BAzBH,eA0BG;AAAA,gCAAM6C,aAAa,CAACwC,QAAQ,CAACrF,IAAV;AAAnB;AAAA;AAAA;AAAA;AAAA,4BA1BH,eA2BG;AAAI,sBAAA,SAAS,EAAC,iBAAd;AAAA,sCAAkCqF,QAAQ,CAACE,WAA3C;AAAA;AAAA;AAAA;AAAA;AAAA,4BA3BH,eA4BG;AAAA,gCAAMF,QAAQ,CAACG;AAAf;AAAA;AAAA;AAAA;AAAA,4BA5BH,eA6BG;AAAI,sBAAA,SAAS,EAAC,YAAd;AAAA,gCAA4BH,QAAQ,CAACvF;AAArC;AAAA;AAAA;AAAA;AAAA,4BA7BH,eA8BG;AAAI,sBAAA,SAAS,EAAC,yBAAd;AAAA,gCAAyCuF,QAAQ,CAACI,MAAT,CAAgBC;AAAzD;AAAA;AAAA;AAAA;AAAA,4BA9BH;AAAA,qBAA8BL,QAAQ,CAAC5G,EAAvC;AAAA;AAAA;AAAA;AAAA,0BADF;AADJ;AAAA;AAAA;AAAA;AAAA,wBAdH;AAAA;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,cADH,eA4DG,QAAC,iBAAD;AAAmB,QAAA,IAAI,EAAEG,SAAzB;AAAoC,QAAA,YAAY,EAAEC,YAAlD;AAAgE,QAAA,YAAY,EAAE;AAACS,UAAAA,UAAU,EAACA,UAAZ;AAAwBJ,UAAAA,MAAM,EAACA,MAA/B;AAAuCM,UAAAA,MAAM,EAACA,MAA9C;AAAsDE,UAAAA,OAAO,EAAEA,OAA/D;AAAwEE,UAAAA,OAAO,EAACA,OAAhF;AAAyFE,UAAAA,IAAI,EAACA,IAA9F;AAAoGV,UAAAA,QAAQ,EAACA,QAA7G;AAAuHY,UAAAA,IAAI,EAACA,IAA5H;AAAkIE,UAAAA,QAAQ,EAACA;AAA3I;AAA9E;AAAA;AAAA;AAAA;AAAA,cA5DH,eA6DG,QAAC,mBAAD;AAAqB,QAAA,IAAI,EAAEpB,mBAA3B;AAAgD,QAAA,YAAY,EAAEC;AAA9D;AAAA;AAAA;AAAA;AAAA,cA7DH;AAAA;AAAA;AAAA;AAAA;AAAA,YAlGH,EAkKM,CAACiC,kBAAD,iBACA;AAAK,MAAA,SAAS,EAAC,wCAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,4BAAf;AAA4C,QAAA,EAAE,EAAC;AAA/C;AAAA;AAAA;AAAA;AAAA,cADJ,eAQI;AAAK,QAAA,SAAS,EAAC,2CAAf;AAA2D,QAAA,EAAE,EAAC,mBAA9D;AAAA,gCACE,QAAC,MAAD;AACE,UAAA,OAAO,EAAE,MACRhC,QAAQ,GAAG,CAAX,IAAgBC,WAAW,CAACD,QAAQ,GAAG,CAAZ,CAF9B;AAIA,UAAA,KAAK,EAAE;AAAC2G,YAAAA,KAAK,EAAE,OAAR;AAAiBC,YAAAA,MAAM,EAAE,MAAzB;AAAiCC,YAAAA,MAAM,EAAC,MAAxC;AAAgDf,YAAAA,KAAK,EAAC,SAAtD;AAAgEgB,YAAAA,SAAS,EAAE,MAA3E;AAAmFC,YAAAA,QAAQ,EAAC,MAA5F;AAAoGC,YAAAA,WAAW,EAAC;AAAhH,WAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAQE;AAAA,iCACI;AACE,YAAA,EAAE,EAAC,eADL;AAEE,YAAA,IAAI,EAAC,QAFP;AAGE,YAAA,SAAS,EAAC,wBAHZ;AAKE,YAAA,QAAQ,EAAE7B,CAAC,IAAIlF,WAAW,CAACkF,CAAC,CAACQ,MAAF,CAASC,KAAV,CAL5B;AAMA,YAAA,KAAK,EAAE5F,QANP;AAOA,YAAA,KAAK,EAAE;AAAC2G,cAAAA,KAAK,EAAE,OAAR;AAAiBC,cAAAA,MAAM,EAAE,MAAzB;AAAiCC,cAAAA,MAAM,EAAC,KAAxC;AAA+CC,cAAAA,SAAS,EAAE,QAA1D;AAAoEC,cAAAA,QAAQ,EAAC,MAA7E;AAAqFlB,cAAAA,eAAe,EAAE;AAAtG;AAPP;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBARF,eAmBE,QAAC,MAAD;AACA,UAAA,KAAK,EAAE;AAACc,YAAAA,KAAK,EAAE,OAAR;AAAiBC,YAAAA,MAAM,EAAE,MAAzB;AAAiCC,YAAAA,MAAM,EAAC,MAAxC;AAAgDf,YAAAA,KAAK,EAAC,SAAtD;AAAgEgB,YAAAA,SAAS,EAAE,QAA3E;AAAqFC,YAAAA,QAAQ,EAAC,MAA9F;AAAsGZ,YAAAA,OAAO,EAAC;AAA9G,WADP;AAGE,UAAA,OAAO,EAAE,MACRnG,QAAQ,GAAG,CAAX,IAAgBC,WAAW,CAACgH,MAAM,CAACjH,QAAD,CAAN,GAAmB,CAApB,CAJ9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnBF;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAnKN;AAAA;AAAA;AAAA;AAAA;AAAA,UADH;AA8MF,CAzZD;;GAAML,Y;UAgDgBpB,S,EACAA,S;;;MAjDhBoB,Y;AA2ZN,eAAeA,YAAf","sourcesContent":["import React, { Fragment , useState, useEffect} from \"react\";\r\nimport PageTitle from \"../../layouts/PageTitle\";\r\nimport { Dropdown } from \"react-bootstrap\";\r\nimport axios from 'axios';\r\nimport Search from \"../../layouts/Search\";\r\nimport { Row, Card, Col, Button, Modal, Container } from \"react-bootstrap\";\r\nimport ShortCuts from \"../ShortCuts\";\r\nimport { ToastContainer, toast } from 'react-toastify'\r\n/// images\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport { Link } from \"react-router-dom\";\r\nimport { useGetAPI, usePostAPI } from '../useAPI'\r\n\r\nimport PresenceEditModal from './PresenceEditModal'\r\nimport PresenceCreateModal from './PresenceCreateModal'\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nexport const ClientContext = React.createContext()\r\nfunction refreshPage() {\r\n   window.location.reload(false);\r\n }\r\n const removeObject = async (props) => {\r\n   let endpoint = `${process.env.REACT_APP_API_URL}/rest-api/presence/delete/`\r\n   await axios.delete(endpoint + props.id)\r\n  }\r\nconst Drop = (props) => {\r\n   return <Dropdown>\r\n            <Dropdown.Toggle variant=\"\" className=\"table-dropdown i-false\">\r\n               <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n                  <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n                     <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\r\n                     <circle fill=\"#000000\" cx=\"5\" cy=\"12\" r=\"2\"></circle>\r\n                     <circle fill=\"#000000\" cx=\"12\" cy=\"12\" r=\"2\"></circle>\r\n                     <circle fill=\"#000000\" cx=\"19\" cy=\"12\" r=\"2\"></circle>\r\n                  </g>\r\n               </svg>\r\n            </Dropdown.Toggle>\r\n            <Dropdown.Menu>\r\n               <Dropdown.Item href={`/presence/edit/${props.id}`}>Modifier</Dropdown.Item>\r\n               <Dropdown.Item type='button' className=\"text-danger\" onClick={ async () => {\r\n                    await axios.delete(`${process.env.REACT_APP_API_URL}/rest-api/presence/delete/${props.id}/`)\r\n                    refreshPage()\r\n                    }}>\r\n                   Supprimer\r\n                </Dropdown.Item>\r\n            </Dropdown.Menu>\r\n         </Dropdown>\r\n};\r\n\r\nconst PresenceList = () => {\r\n   const [editModal, setEditModal] = useState(false);\r\n   const [presneceCreateModal, setPresneceCreateModal] = useState(false);\r\n   const [nextpage, setNextpage] = useState(1);\r\n   const [client, setClient ] = useState('')\r\n   const [clientId, setClientId ] = useState('')\r\n   const [presenceId, setPresenceId ] = useState('')\r\n   const [hourIn, setHourIn ] = useState('') \r\n   const [hourOut, setHourOut ] = useState('') \r\n   const [creneau,setCreneau] = useState('')\r\n   const [note, setNote] = useState('')\r\n   const [date, setDate] = useState('')\r\n   const [activity, setActivity] = useState('')\r\n   const [filterActivity, setFilterActivity] = useState('')\r\n   const [presenceSuccess, setPresenceSuccess] = useState(false);\r\n   const [presenceError, setPresenceError] = useState(false);\r\n   const [presenceupdatedSuccess, setPresenceupdatedSuccess] = useState(false);\r\n   const [presenceCreatedSuccess, setPresenceCreatedSuccess] = useState(false);\r\n   const [searchValue, setSearchValue] = useState('')\r\n   const [searchBarActivated, setSearchBarActivated] = useState(false)\r\n   const [presenceData, setPresenceData] = useState([]);\r\n   const [presencesCount, setPresencesCount] = useState('')\r\n\r\n   console.log('le clieeeeen RFID', client);\r\n\r\n   // console.table('els clieeents', salle);\r\n\r\n   const capitalizeFirstLetter = (word) => {\r\n      if (word)\r\n      return word.charAt(0).toUpperCase() + word.slice(1);\r\n      return '';\r\n   };\r\n\r\n   const formatDate = (date) => {\r\n      try {\r\n         const returned = new Date(date).toISOString().slice(0, 10)\r\n         return returned\r\n      } catch (error) {\r\n         const returned = new Date().toISOString().slice(0, 10)\r\n         return returned\r\n      }\r\n   }\r\n\r\n   const [startDate, setStartDate] = useState(formatDate(new Date('2000-01-01')));\r\n   const [endDate, setEndDate] = useState(formatDate(new Date()));\r\n   const [salleId, setSalleId] = useState('');\r\n   const [startHour, setStartHour] = useState('');\r\n   console.log('huere de début', startHour);\r\n   const sallesData = useGetAPI(`${process.env.REACT_APP_API_URL}/rest-api/salle-activite/`)\r\n   const activities = useGetAPI(`${process.env.REACT_APP_API_URL}/rest-api/salle-activite/activite/`)\r\n   // let endpoint = `${process.env.REACT_APP_API_URL}/rest-api/presence/`\r\n   let presenceCreateEND =  `${process.env.REACT_APP_API_URL}/rest-api/presence/auto-create`\r\n\r\n   // var searchPresenceEndpoint = `${process.env.REACT_APP_API_URL}/rest-api/presence/?start_date=${startDate}&end_date=${endDate}`\r\n\r\n   // const savedPresences = useGetAPI(endpoint)\r\n   // let clientDetailEND =  `${process.env.REACT_APP_API_URL}/rest-api/client${client}/`\r\n   // let presenceDetailEND =  `${process.env.REACT_APP_API_URL}/rest-api/presence/${presenceId}/`\r\n\r\n   // const getIdPresence = (client) => {\r\n   //    axios.get(`${process.env.REACT_APP_API_URL}/rest-api/clients/${client}/`).then(function (res) {\r\n   //       console.log('the last dataaa presence,', res.data.last_presence, client);\r\n   //       setPresenceId(res.data.last_presence)\r\n   //       // return res.data.last_presence\r\n   //    })\r\n\r\n   // }\r\n\r\nconst getCurrentDay = (PresneceDate ) => {\r\n   const date = new Date(PresneceDate).getDay()\r\n   // console.log('le jour', date);\r\n   if (date === 0) {\r\n      return 'Dimanche'\r\n   }else if (date === 1){\r\n      return 'Lundi'\r\n\r\n   }else if (date === 2){\r\n      return 'Mardi'\r\n\r\n   }else if (date === 3){\r\n      return 'Mercredi'\r\n\r\n   }else if (date === 4){\r\n      return 'Jeudi'\r\n\r\n   }else if (date === 5){\r\n      return 'Vendredi'\r\n   }else {\r\n      return 'Samedi'\r\n   }\r\n} \r\n   useEffect(() => {\r\n      if (presenceCreatedSuccess == true) {\r\n        notifyPresenceSuccess()\r\n        setPresenceCreatedSuccess(false)\r\n      }\r\n    }, [presenceCreatedSuccess]);\r\n   useEffect(() => {\r\n      if (presenceError == true) {\r\n        notifyPresenceError()\r\n        setPresenceError(false)\r\n      }\r\n    }, [presenceError]);\r\n   useEffect(() => {\r\n      if (presenceupdatedSuccess == true) {\r\n         notifyPresenceUpdate()\r\n         setPresenceupdatedSuccess(false)\r\n      }\r\n    }, [presenceupdatedSuccess]);\r\n\r\n    \r\n   useEffect(() => {\r\n      const presenceDateDate = async () => {\r\n         const dateDebut = formatDate(startDate)\r\n         const dateFin = formatDate(endDate)\r\n         const result =  await axios.get(`${process.env.REACT_APP_API_URL}/rest-api/presence/?page=${nextpage}&start_date=${dateDebut}&end_date=${dateFin}&abc__client_id=${searchValue}&creneau__activity__salle=${salleId}&hour=${startHour}&creneau__activity=${filterActivity}`)\r\n         console.log('result ++++++++++++++++++++++++++++++++++++++ ', result.data);\r\n            setPresenceData(result.data.results)\r\n            setPresencesCount(result.data.count)\r\n      }\r\n      presenceDateDate()\r\n   }, [startDate, endDate, nextpage, searchValue, client, presenceCreatedSuccess, presenceupdatedSuccess, salleId, editModal, presneceCreateModal, startHour, filterActivity]);\r\n\r\n   const notifyPresenceSuccess = () => {\r\n      toast.success('Presence initialisé Avec Succée', {\r\n        position: 'top-right',\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n      })\r\n    }\r\n    const notifyPresenceUpdate = () => {\r\n      toast.success('la sortie du client a été éffectué Avec Succée', {\r\n        position: 'top-right',\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n      })\r\n    }\r\n    const notifyPresenceError = () => {\r\n      toast.error('le client avec l\\'ID ' + ' ' + clientId + ' ' + \"n'a pas le droit d'assisté a cours\", {\r\n        position: 'top-right',\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n      })\r\n    }\r\n   const HandleSubmit =  (e) => {\r\n         e.preventDefault();\r\n         // getIdPresence(client)\r\n         const presenceData =  axios.get(`${process.env.REACT_APP_API_URL}/rest-api/clients/${clientId}/`).then(async res=> {\r\n            if (res.data.last_presence) {\r\n               // console.log('id de la presence', res.data.last_presence);\r\n               setPresenceId(res.data.last_presence)\r\n               // console.log('erreur lors du cposr ligne 85', presenceId);\r\n               await axios.put( `${process.env.REACT_APP_API_URL}/rest-api/presence/edit/${res.data.last_presence}/`)\r\n               setPresenceupdatedSuccess(true)\r\n               return presenceData\r\n               // console.log(\"je suis lka N?\");\r\n            } else {\r\n               try {\r\n                  const presenceData1 = await axios.post(presenceCreateEND,{client: clientId})\r\n                  setPresenceCreatedSuccess(true)\r\n                  console.log(\"me resutltat \", presenceData);\r\n                  return presenceData1\r\n               }catch (error) {\r\n                  setPresenceError(true)\r\n                  console.log('erreur lors du cposr',error);\r\n               }\r\n            } \r\n         })\r\n         // setClient('')\r\n      // refreshPage()\r\n   }\r\nconsole.log('start date', startDate);\r\n\r\n   // const HandleSubmit = (e) => {\r\n   //    e.preventDefault();\r\n   //    const clientId = {client : Number(client)}\r\n   //    // getIdPresence(client)\r\n   //    axios.post(presenceCreateEND, clientId).then(res=> {\r\n   //       // console.log('id de la presence', res.data.last_presence);\r\n   //       // setPresenceId(res.data.last_presence)\r\n   //       // console.log('erreur lors du cposr ligne 85', presenceId);\r\n   //       // axios.patch( `${process.env.REACT_APP_API_URL}/rest-api/presence/edit/${res.data.last_presence}/`)\r\n   //    }).catch( err => {\r\n\r\n   //       axios.get(`${process.env.REACT_APP_API_URL}/rest-api/clients/${client}/`).then(res=> {\r\n   //          console.log('id de la presence', res.data.last_presence);\r\n   //          setPresenceId(res.data.last_presence)\r\n   //          console.log('erreur lors du cposr ligne 85', presenceId);\r\n   //          axios.patch( `${process.env.REACT_APP_API_URL}/rest-api/presence/edit/${res.data.last_presence}/`)\r\n   //       })\r\n   //    }\r\n\r\n   // )}\r\n\r\n   return (\r\n      <Fragment>\r\n         <Link target=\"_blank\" to={`/client/${clientId}`} >\r\n            <ToastContainer position='top-right' autoClose={5000} hideProgressBar={false} newestOnTop closeOnClick rtl={false} pauseOnFocusLoss draggable pauseOnHover />\r\n         </Link>\r\n         <div className=\"testimonial-one owl-right-nav owl-carousel owl-loaded owl-drag mb-4\">\r\n            <ShortCuts />\r\n         </div>\r\n         <div className=\"m-5 row\">\r\n            <div className='col- col-md-4'>\r\n               <form onSubmit={HandleSubmit}>\r\n                  <div className='row'>\r\n                     <div className=\"col-6\">\r\n                     <label htmlFor=\"entree\">Présence Automatique </label>\r\n                        <input name='entree' type=\"text\" className=\"form-control\" placeholder=\" ID Client\" onChange={e =>  setClientId(e.target.value)} />\r\n                     </div>\r\n                     <div className=\"col-6 mt-auto\">\r\n                        <Button  variant=\"success\" type=\"submit\" > Valider</Button>\r\n                     </div>\r\n                  </div>\r\n               </form>\r\n            </div>\r\n            <div className=\"col-md-2 mt-auto\">\r\n               <Button  variant=\"primary\" type=\"submit\" onClick={e => setPresneceCreateModal(true)}> Présence Manuelle</Button>\r\n            </div>\r\n            <div  className=\"ml-auto col-md-2\">\r\n               <h2 className='text-danger'>Total :{presencesCount}</h2>\r\n            </div>\r\n         </div>\r\n         <div className=\"row d-flex m-3 py-4\" style={{backgroundColor:'#ffffff'}}>\r\n            <div className=\" col-md-2\">\r\n               <label style={{color:'#000000'}} >ID Adhérant</label>\r\n               <input type=\"text\" className=\"form-control\" placeholder=\"rechercher par ID Client\" value={searchValue} onChange={e => setSearchValue(e.target.value)}/>\r\n            </div>\r\n            <div className=\"form-group col-md-2\">\r\n               <label style={{color:'#000000'}} >Salle d'activité</label>\r\n                  <Autocomplete\r\n                  // id={(option) =>  option['id']}\r\n                  onChange={((event, value) =>  {\r\n                     try {\r\n                        setSalleId(value.id)\r\n                     } catch (error) {\r\n                        setSalleId('')\r\n                     }\r\n                  })}\r\n                  // onChange={handleSubmit}\r\n                  options={sallesData}\r\n                  //  value={activities[creneauActivite]}\r\n                  \r\n                  getOptionSelected={(option) =>  option['id']}\r\n                  getOptionLabel={(option) =>  option['name']}\r\n                  style={{ color: '#000' }}\r\n                  renderInput={(params) => \r\n                     <TextField {...params} style={{color:\"#000\"}}  className='text-light' label=\"Salles\" variant=\"outlined\" fullWidth \r\n                     InputLabelProps={{\r\n                        style: { color: '#000' }, \r\n                     }}\r\n                     />}\r\n                  />\r\n\r\n            </div>\r\n            <div className=\"form-group col-md-2\">\r\n               <label style={{color:'#000000'}} >Activité</label>\r\n               <Autocomplete\r\n               // id={(option) =>  option['id']}\r\n               onChange={((event, value) =>  {\r\n                  try {\r\n                     setFilterActivity(value.id)\r\n                  } catch (error) {\r\n                     setFilterActivity('')\r\n                  }\r\n               })}\r\n               // onChange={handleSubmit}\r\n               options={activities}\r\n               style={{ color: '#000' }}\r\n               //  value={activities[creneauActivite]}\r\n               getOptionSelected={(option) =>  option['id']}\r\n               getOptionLabel={(option) =>  option['name']}\r\n               renderInput={(params) => \r\n                  <TextField {...params}  \r\n                     InputLabelProps={{\r\n                        style: { color: '#000' }, \r\n                     }}\r\n                  style={{color:'#ffffff'}}  label=\"Activitées\" variant=\"outlined\" fullWidth  />}\r\n               />\r\n            </div>\r\n            <div className=\"form-group col-md-2\">\r\n               <label style={{color:'#000000'}} htmlFor=\"birth_date\">Date début </label>\r\n               <input type=\"date\" name=\"start_date\" className=\"form-control\" value={startDate}  onChange={e => setStartDate(e.target.value)}/>\r\n            </div>\r\n            <div className=\"form-group col-md-2\">\r\n               <label style={{color:'#000000'}} htmlFor=\"end_date\">Date Fin </label>\r\n               <input type=\"date\" name=\"end_date\" className=\"form-control\" value={endDate} onChange={e => setEndDate(e.target.value)}/>\r\n            </div>\r\n            <div className=\"form-group col-md-2\">\r\n               <label style={{color:'#000000'}} htmlFor=\"start_hour\">Heure du créneau</label>\r\n               <input type=\"time\" name=\"start_hour\" className=\"form-control\" value={startHour} onChange={e => setStartHour(e.target.value)}/>\r\n            </div>\r\n         </div>\r\n         <div className=\"row\">\r\n            <div className=\"col-lg-12\">\r\n               <div className=\"card\">\r\n                  <div className=\"card-body\" style={{padding: '5px'}}>\r\n                     <div className=\"table-responsive\">\r\n                        <table className=\"table mb-0 table-striped\">\r\n                           <thead>\r\n                              <tr>\r\n                                 <th className=\"customer_shop\"> ID </th>\r\n                                 <th>Nom</th>\r\n                                 <th>Activité</th>\r\n                                 <th> Date </th>\r\n                                 <th> Jour </th>\r\n                                 <th className=\"pl-5 width200\"> Heure d'entrée </th>\r\n                                 <th> Heure de sortie </th>\r\n                                 <th> Notes </th>\r\n                                 <th className='text-right'>Dettes </th>\r\n                              </tr>\r\n                           </thead>\r\n                           <tbody id=\"customers\">\r\n                              {presenceData.map(presence => (\r\n                                 <tr role=\"row presences\" key={presence.id} className=\"btn-reveal-trigger cursor-abonnement presences p-0\"onClick={e => {\r\n                                    setEditModal(true)\r\n                                    setClient(presence.client_last_name)\r\n                                    setClientId(presence.client)\r\n                                    setPresenceId(presence.id)\r\n                                    setHourIn(presence.hour_entree)\r\n                                    setHourOut(presence.hour_sortie)\r\n                                    setCreneau(presence.creneau)\r\n                                    setNote(presence.note)\r\n                                    setDate(presence.date)\r\n                                    setActivity(presence.activity)\r\n                                 }}>\r\n                                    <td className=\"customer_shop_single\"> {presence.client} </td>\r\n                                    <td className=\"\">\r\n                                       {/* <Link to={`/presence/detail/${presence.id}`}> */}\r\n                                          <div className=\"media d-flex align-items-center\">\r\n                                             <div className=\"media-body\">\r\n                                                <h5 className=\"mb-0 fs--1\">\r\n                                                   {presence.client_last_name}\r\n                                                </h5>\r\n                                             </div>\r\n                                          </div>\r\n                                       {/* </Link> */}\r\n                                    </td>\r\n                                    <td >{presence.activity}</td>\r\n                                    <td >{presence.date}</td>\r\n                                    <td >{getCurrentDay(presence.date)}</td>\r\n                                    <td className=\" pl-5 wspace-no\"> {presence.hour_entree} </td>\r\n                                    <td >{presence.hour_sortie}</td>\r\n                                    <td className=\" text-left\">{presence.note}</td>\r\n                                    <td className=\" text-right text-danger\">{presence.dettes.reste__sum}</td>\r\n                                 </tr>\r\n                              ))}\r\n                              </tbody>\r\n                        </table>\r\n                     </div>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n            <PresenceEditModal show={editModal} onShowShange={setEditModal} presenceData={{presenceId:presenceId, client:client, hourIn:hourIn, hourOut: hourOut, creneau:creneau, note:note, clientId:clientId, date:date, activity:activity}}/>\r\n            <PresenceCreateModal show={presneceCreateModal} onShowShange={setPresneceCreateModal} />\r\n         </div>\r\n         {\r\n            !searchBarActivated &&\r\n            <div className='d-flex text-center justify-content-end'>\r\n                <div className='dataTables_info text-black' id='example5_info '>\r\n                  {/* Showing {activePag.current * sort + 1} to{' '}\r\n                  {data.length > (activePag.current + 1) * sort\r\n                    ? (activePag.current + 1) * sort\r\n                    : data.length}{' '}\r\n                  of {data.length} entries{' '} */}\r\n                </div>\r\n                <div className='dataTables_paginate paging_simple_numbers' id='example5_paginate' >\r\n                  <Button\r\n                    onClick={() =>\r\n                     nextpage > 0 && setNextpage(nextpage - 1)\r\n                  }\r\n                  style={{width: '100px', border: 'none', height:'48px', color:'#ffffff',textAlign: 'left', fontSize:'15px', paddingLeft:'8px'}}>\r\n                    Précédent\r\n                  </Button>\r\n                  <span >\r\n                      <input\r\n                        to='/transactions'\r\n                        type='number'\r\n                        className='paginate_button_client'\r\n\r\n                        onChange={e => setNextpage(e.target.value)}\r\n                      value={nextpage}\r\n                      style={{width: '100px', border: 'none', height:'99%', textAlign: 'center', fontSize:'15px', backgroundColor: '#ffffff'}}\r\n                      />\r\n                  </span>\r\n                  <Button \r\n                  style={{width: '100px', border: 'none', height:'48px', color:'#ffffff',textAlign: 'center', fontSize:'15px', padding:'2px'}}\r\n\r\n                    onClick={() =>\r\n                     nextpage > 0 && setNextpage(Number(nextpage) + 1)\r\n                    }\r\n                  >\r\n                    Suivant\r\n                  </Button>\r\n                </div>\r\n\r\n              </div>\r\n         }\r\n      </Fragment>\r\n   );\r\n};\r\n\r\nexport default PresenceList;\r\n"]},"metadata":{},"sourceType":"module"}