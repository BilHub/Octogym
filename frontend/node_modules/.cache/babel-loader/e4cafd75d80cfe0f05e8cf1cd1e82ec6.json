{"ast":null,"code":"var _jsxFileName = \"/home/bil/Desktop/web projects/octopus/Octogym/frontend/src/jsx/components/clients/ClientCreate.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport { useGetAPI, usePostAPI } from '../useAPI';\nimport { useHistory } from \"react-router-dom\";\nimport DropdownMultiselect from \"react-multiselect-dropdown-bootstrap\";\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport ShortCuts from \"../ShortCuts\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction refreshPage() {\n  window.location.reload(false);\n}\n\nconst CreateClient = () => {\n  _s();\n\n  const config = {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  };\n  let maladiesEnd = `${process.env.REACT_APP_API_URL}/rest-api/maladie/`;\n  const maladies = useGetAPI(maladiesEnd);\n  const history = useHistory();\n  const [selectedMaladies, setSelectedMaladies] = useState([]);\n  const [civility, setCivility] = useState('MLL');\n  const [lastName, setLastName] = useState(\"\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [adress, setAdress] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [nationality, setNationality] = useState(\"Algérienne\");\n  const [birthDate, setBirthDate] = useState(\"\");\n  const [blood, setBlood] = useState(\"\");\n  const [note, setNote] = useState(\"\");\n  const [etat, setEtat] = useState(\"\"); // const [dette, setDette] = useState(\"\");\n\n  const [picture, setPicture] = useState(null);\n  const [clientCreated, setClientCreated] = useState(false);\n  const [realMaladies, setRealMaladies] = useState([]); //FK \n\n  const handleCheckbox = event => {\n    const maladie = event.target.name;\n\n    if (event.target.checked) {\n      setSelectedMaladies(checkedMaladies => [...checkedMaladies, Number(maladie)]);\n      console.log('maladiieiieiis=======>', selectedMaladies);\n    } else {\n      for (var i = 0; i < selectedMaladies.length; i++) {\n        if (selectedMaladies[i] === Number(maladie)) {\n          selectedMaladies.splice(i, 1);\n        }\n      }\n\n      selectedMaladies.splice(Number(maladie), 1);\n      console.log('unchecked=======>', selectedMaladies);\n    }\n  }; // useEffect(() => {\n  //   if (clientCreated == true) {\n  //     notifyClientCreated()\n  //     // setClientCreated(false)\n  //   }\n  // }, [clientCreated]);\n\n\n  const notifyClientCreated = () => {\n    toast.success('Client Ajouté Avec Succée', {\n      position: 'top-right',\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true\n    });\n  };\n\n  const handleImage = e => {\n    // if (e.target.name === \"picture\") {\n    setPicture({\n      image: e.target.files\n    }); // setPicture(e.target.files[0])\n\n    console.log('e.target.files', e.target.files);\n    console.log('e.target.name', e.target.name); // }\n  };\n\n  const getSelectedMaladies = () => {\n    console.log(\"REAL MALADIES=======> \", realMaladies);\n    console.log(\"REAL MALADIES=======> \", selectedMaladies);\n\n    for (let i = 0; i < selectedMaladies.length; i++) {\n      // setRealMaladies([...realMaladies, selectedMaladies[i]['id']])\n      realMaladies.push(selectedMaladies[i]['id']);\n    }\n  };\n\n  const HandleSubmit = async e => {\n    getSelectedMaladies(); // console.log(\"setSelectedMaladie=======> \", realMaladies);\n\n    console.log(\"setSelectedMaladie=======> \", realMaladies); // console.log('les maladiiiies', maladies);\n\n    let endpoint = `${process.env.REACT_APP_API_URL}/rest-api/clients/create`;\n    e.preventDefault();\n    let formData = new FormData(); // const newClient = {\n    //   civility :civility,\n    //   last_name :lastName,\n    //   first_name :firstName,\n    //   adress :adress,\n    //   phone :phone,\n    //   email :email,\n    //   nationality :nationality,\n    //   birth_date :birthDate,\n    //   state: etat,\n    //   blood :blood,\n    //   note :note,\n    //   dette :Number(dette),\n    //   maladies: selectedMaladies,\n    //   picture: picture.image[0], \n    //   }\n    // usePostAPI(endpoint, newClient)\n    // history.push(\"/client\")\n    // let formData = new FormData();\n\n    console.log('the blood', blood);\n    formData.append('civility', civility);\n    formData.append('last_name', lastName);\n    formData.append('first_name', firstName);\n    formData.append('adress', adress);\n    formData.append('phone', phone);\n    formData.append('email', email);\n    formData.append('nationality', nationality);\n    formData.append('birth_date', birthDate);\n    formData.append('blood', blood);\n    formData.append('note', note); // formData.append('state',etat );\n    // formData.append('dette', Number(dette));\n\n    realMaladies.forEach(item => {\n      formData.append('maladies', item);\n    });\n\n    if (picture !== null) {\n      formData.append('picture', picture.image[0]);\n    } else {\n      console.log('il ny a pas de photo', typeof picture);\n    }\n\n    axios.post(endpoint, formData, config).then(res => {\n      // console.log(res.data);\n      history.push(\"/client\");\n      notifyClientCreated();\n      console.log('THE NEW CLIENT ONEEE ', res.data);\n    }).catch(err => console.log('THE NEW CLIENT ', formData));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"\",\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-right\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      newestOnTop: true,\n      closeOnClick: true,\n      rtl: false,\n      pauseOnFocusLoss: true,\n      draggable: true,\n      pauseOnHover: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"testimonial-one owl-right-nav owl-carousel owl-loaded owl-drag mb-4\",\n      children: /*#__PURE__*/_jsxDEV(ShortCuts, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"card-title\",\n          children: \"Profile Abonn\\xE9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"basic-form\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: HandleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Nom\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"last_name\",\n                  className: \"form-control\",\n                  placeholder: \"Nom du client\",\n                  required: true,\n                  onChange: e => setLastName(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Photo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \"image/*\",\n                  name: \"picture\",\n                  className: \"form-control\",\n                  placeholder: \"Photo d'identit\\xE9 \",\n                  onChange: handleImage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Pr\\xE9nom\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"first_name\",\n                  className: \"form-control\",\n                  placeholder: \"Pr\\xE9nom du client\",\n                  required: true,\n                  onChange: e => setFirstName(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  name: \"email\",\n                  className: \"form-control\",\n                  placeholder: \"Email\",\n                  onChange: e => setEmail(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Adresse\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"adress\",\n                  className: \"form-control\",\n                  onChange: e => setAdress(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Date de naissance\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  name: \"birth_date\",\n                  className: \"form-control\",\n                  onChange: e => setBirthDate(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Nationalit\\xE9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"nationality\",\n                  value: nationality,\n                  className: \"form-control\",\n                  onChange: e => setNationality(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"T\\xE9l\\xE9phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"phone\",\n                  className: \"form-control\",\n                  onChange: e => setPhone(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group col-md-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Civilit\\xE9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: civility,\n                  name: \"civility\",\n                  className: \"form-control\",\n                  onChange: e => setCivility(e.currentTarget.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"MLL\",\n                    children: \"Mlle\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"MME\",\n                    children: \"Mme\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"MR\",\n                    children: \"Mr\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group col-md-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Groupe sanguin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  defaultValue: \"option\",\n                  name: \"blood\",\n                  className: \"form-control\",\n                  onChange: e => setBlood(e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"option\",\n                    disabled: true,\n                    children: \"Cliquez pour choisir\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"A-\",\n                    children: \"A-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"A+\",\n                    children: \"A+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"B-\",\n                    children: \"B-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"B+\",\n                    children: \"B+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"O-\",\n                    children: \"O-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"O+\",\n                    children: \"O+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"AB-\",\n                    children: \"AB-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"AB+\",\n                    children: \"AB+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group col-md-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Maladies\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Autocomplete, {\n                  multiple: true,\n                  onChange: (event, value) => {\n                    setSelectedMaladies(value); // console.log(s);\n                    //   const maladieId = value.indexOf(value)\n                    //   if (maladieId !== -1) {\n                    //     const neawCren = value.filter(val => val !== maladieId)\n                    //     console.log('calue de i , id', value.id);\n                    //     console.log('calue de i , vaaal', neawCren);\n                    //     console.log('calue de i , maladieId', maladieId);\n                    //     setSelectedMaladies(neawCren) \n                    //   }\n                    //   for (let i = 0; i < value.length; i++) {\n                    //       setSelectedMaladies([...selectedMaladies, value[i].id])\n                    //       console.log('calue de i , maladieId', maladieId);\n                    //       console.log(\"je suis laaa\");\n                    // }\n\n                    console.log('les maladies selectionné', selectedMaladies);\n                  } // onChange={handleSubmit}\n                  ,\n                  options: maladies,\n                  id: \"size-small-standard-multi\",\n                  defaultValue: maladies[9] //  value={activities[creneauActivite]}\n                  // getOptionSelected={(option) =>  option['id']}\n                  // getOptionSelected={(option) => console.log('hello', option.id )}\n                  ,\n                  getOptionLabel: option => option['name'],\n                  renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n                    name: \"maladies\",\n                    label: \"Maladies\",\n                    variant: \"outlined\",\n                    fullWidth: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 32\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 22\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Note\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                name: \"note\",\n                className: \"form-control\",\n                onChange: e => setNote(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary mt-3\",\n              children: \"Creer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CreateClient, \"fftOIVaXntnAJjtCd2ptwL1mn30=\", false, function () {\n  return [useGetAPI, useHistory];\n});\n\n_c = CreateClient;\nexport default CreateClient;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateClient\");","map":{"version":3,"sources":["/home/bil/Desktop/web projects/octopus/Octogym/frontend/src/jsx/components/clients/ClientCreate.jsx"],"names":["React","useState","useEffect","axios","useGetAPI","usePostAPI","useHistory","DropdownMultiselect","TextField","Autocomplete","ShortCuts","ToastContainer","toast","refreshPage","window","location","reload","CreateClient","config","headers","maladiesEnd","process","env","REACT_APP_API_URL","maladies","history","selectedMaladies","setSelectedMaladies","civility","setCivility","lastName","setLastName","firstName","setFirstName","adress","setAdress","phone","setPhone","email","setEmail","nationality","setNationality","birthDate","setBirthDate","blood","setBlood","note","setNote","etat","setEtat","picture","setPicture","clientCreated","setClientCreated","realMaladies","setRealMaladies","handleCheckbox","event","maladie","target","name","checked","checkedMaladies","Number","console","log","i","length","splice","notifyClientCreated","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","handleImage","e","image","files","getSelectedMaladies","push","HandleSubmit","endpoint","preventDefault","formData","FormData","append","forEach","item","post","then","res","data","catch","err","value","currentTarget","option","params"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from 'axios';\r\n\r\nimport { useGetAPI, usePostAPI } from '../useAPI'\r\nimport {  useHistory } from \"react-router-dom\";\r\nimport DropdownMultiselect from \"react-multiselect-dropdown-bootstrap\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport ShortCuts from \"../ShortCuts\";\r\nimport { ToastContainer, toast } from 'react-toastify'\r\n\r\n\r\nfunction refreshPage() {\r\n  window.location.reload(false);\r\n}\r\nconst CreateClient = () => {\r\n  const config = { headers: { 'Content-Type': 'multipart/form-data' } };\r\n  let maladiesEnd = `${process.env.REACT_APP_API_URL}/rest-api/maladie/`\r\n  \r\n  const maladies = useGetAPI(maladiesEnd)\r\n  const history = useHistory();\r\n  const [selectedMaladies, setSelectedMaladies] = useState([])\r\n  const [civility, setCivility] = useState('MLL');\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [adress, setAdress] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [nationality, setNationality] = useState(\"Algérienne\");\r\n  const [birthDate, setBirthDate] = useState(\"\");\r\n  const [blood, setBlood] = useState(\"\");\r\n  const [note, setNote] = useState(\"\");\r\n  const [etat, setEtat] = useState(\"\");\r\n  // const [dette, setDette] = useState(\"\");\r\n  \r\n  const [picture, setPicture] = useState(null);\r\n  const [clientCreated, setClientCreated] = useState(false);\r\n  const [realMaladies, setRealMaladies] = useState([])\r\n  //FK \r\n  const handleCheckbox = (event) => {\r\n    const maladie = event.target.name\r\n    if ( event.target.checked){\r\n      setSelectedMaladies(checkedMaladies => [...checkedMaladies, Number(maladie)])\r\n      console.log('maladiieiieiis=======>', selectedMaladies);\r\n    }else {\r\n      for ( var i = 0 ; i < selectedMaladies.length; i++){\r\n        if (selectedMaladies[i] === Number(maladie)){\r\n          selectedMaladies.splice(i, 1)\r\n        } \r\n      }\r\n      selectedMaladies.splice(Number(maladie) , 1)\r\n      console.log('unchecked=======>', selectedMaladies);\r\n  }\r\n}\r\n// useEffect(() => {\r\n//   if (clientCreated == true) {\r\n//     notifyClientCreated()\r\n//     // setClientCreated(false)\r\n//   }\r\n// }, [clientCreated]);\r\n\r\nconst notifyClientCreated = () => {\r\n  toast.success('Client Ajouté Avec Succée', {\r\n    position: 'top-right',\r\n    autoClose: 5000,\r\n    hideProgressBar: false,\r\n    closeOnClick: true,\r\n    pauseOnHover: true,\r\n    draggable: true,\r\n  })\r\n}\r\n\r\nconst handleImage = (e) => {\r\n  // if (e.target.name === \"picture\") {\r\n    setPicture({\r\n      image: e.target.files,\r\n      });\r\n    // setPicture(e.target.files[0])\r\n      console.log('e.target.files',e.target.files);\r\n      console.log('e.target.name', e.target.name);\r\n  // }\r\n};\r\nconst getSelectedMaladies = ( ) => {\r\n  console.log(\"REAL MALADIES=======> \", realMaladies);\r\n  console.log(\"REAL MALADIES=======> \", selectedMaladies);\r\n  for (let i = 0; i < selectedMaladies.length; i++) {\r\n      // setRealMaladies([...realMaladies, selectedMaladies[i]['id']])\r\n    realMaladies.push(selectedMaladies[i]['id'])\r\n  }\r\n}\r\n  const HandleSubmit = async e => {\r\n    getSelectedMaladies()\r\n      // console.log(\"setSelectedMaladie=======> \", realMaladies);\r\n      console.log(\"setSelectedMaladie=======> \", realMaladies);\r\n    // console.log('les maladiiiies', maladies);\r\n    let endpoint = `${process.env.REACT_APP_API_URL}/rest-api/clients/create`\r\n    e.preventDefault();\r\n\t\tlet formData = new FormData();\r\n\r\n    // const newClient = {\r\n    //   civility :civility,\r\n    //   last_name :lastName,\r\n    //   first_name :firstName,\r\n    //   adress :adress,\r\n    //   phone :phone,\r\n    //   email :email,\r\n    //   nationality :nationality,\r\n    //   birth_date :birthDate,\r\n    //   state: etat,\r\n    //   blood :blood,\r\n    //   note :note,\r\n    //   dette :Number(dette),\r\n    //   maladies: selectedMaladies,\r\n    //   picture: picture.image[0], \r\n    //   }\r\n      // usePostAPI(endpoint, newClient)\r\n      // history.push(\"/client\")\r\n      \t// let formData = new FormData();\r\n\r\n    console.log('the blood', blood);\r\n\r\n      formData.append('civility',civility );\r\n      formData.append('last_name',lastName );\r\n      formData.append('first_name',firstName );\r\n      formData.append('adress',adress );\r\n      formData.append('phone',phone );\r\n      formData.append('email',email );\r\n      formData.append('nationality',nationality );\r\n      formData.append('birth_date',birthDate );\r\n      formData.append('blood',blood );\r\n      formData.append('note',note );\r\n      // formData.append('state',etat );\r\n      // formData.append('dette', Number(dette));\r\n\r\n      realMaladies.forEach(item => {\r\n        formData.append('maladies', item);\r\n      })\r\n      if (picture !== null) {\r\n        formData.append('picture', picture.image[0]);\r\n      }else{\r\n        console.log('il ny a pas de photo', typeof(picture));\r\n      }\r\n      axios\r\n      \t.post(endpoint, formData, config)\r\n      \t.then((res) => {\r\n      \t\t// console.log(res.data);\r\n          history.push(\"/client\")\r\n          notifyClientCreated() \r\n          console.log('THE NEW CLIENT ONEEE ', res.data);\r\n      \t})\r\n      \t.catch((err) => console.log('THE NEW CLIENT ', formData));\r\n    }\r\n  return (\r\n        <div className=\"\">\r\n         <ToastContainer position='top-right' autoClose={5000} hideProgressBar={false} newestOnTop closeOnClick rtl={false} pauseOnFocusLoss draggable pauseOnHover />\r\n\r\n          <div className=\"testimonial-one owl-right-nav owl-carousel owl-loaded owl-drag mb-4\">\r\n        <ShortCuts />\r\n      </div>\r\n          <div className=\"card\">\r\n            <div className=\"card-header\">\r\n              <h4 className=\"card-title\">Profile Abonné</h4>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <div className=\"basic-form\">\r\n                <form onSubmit={HandleSubmit}>\r\n                  <div className=\"form-row\">\r\n                    <div className=\"form-group col-md-6\">\r\n                      <label>Nom</label>\r\n                      <input type=\"text\" name=\"last_name\" className=\"form-control\" placeholder=\"Nom du client\" required onChange={e => setLastName(e.target.value)}/>\r\n                    </div>\r\n                    <div className=\"form-group col-md-6\">\r\n                      <label>Photo</label>\r\n                      <input type=\"file\" accept=\"image/*\" name=\"picture\" className=\"form-control\" placeholder=\"Photo d'identité \" onChange={handleImage}/>\r\n                    </div>\r\n                    <div className=\"form-group col-md-6\"> \r\n                      <label>Prénom</label>\r\n                      <input  type=\"text\" name=\"first_name\"  className=\"form-control\"  placeholder=\"Prénom du client\" required onChange={e => setFirstName(e.target.value)}/>\r\n                    </div>\r\n                    <div className=\"form-group col-md-6\">\r\n                      <label>Email</label>\r\n                      <input  type=\"email\" name=\"email\"  className=\"form-control\"  placeholder=\"Email\" onChange={e => setEmail(e.target.value)}/>\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-md-6\">\r\n                      <label>Adresse</label>\r\n                      <input type=\"text\"name=\"adress\" className=\"form-control\" onChange={e => setAdress(e.target.value)}/>\r\n                    </div>\r\n                    <div className=\"form-group col-md-6\">\r\n                      <label>Date de naissance</label>\r\n                      <input type=\"date\" name=\"birth_date\" className=\"form-control\" onChange={e => setBirthDate(e.target.value)}/>\r\n                    </div>\r\n                    <div className=\"form-group col-md-6\">\r\n                      <label>Nationalité</label>\r\n                      <input type=\"text\" name=\"nationality\" value={nationality} className=\"form-control\" onChange={e => setNationality(e.target.value)} />\r\n                    </div>\r\n                    <div className=\"form-group col-md-6\">\r\n                      <label>Téléphone</label>\r\n                      <input type=\"text\" name=\"phone\" className=\"form-control\" onChange={e => setPhone(e.target.value)} />\r\n                    </div>\r\n                  </div>\r\n                \r\n                  <div className=\"form-row\">\r\n                    <div className=\"form-group col-md-4\">\r\n                      <label>Civilité</label>\r\n                      <select  value={civility} name=\"civility\"  className=\"form-control\" onChange={e => setCivility(e.currentTarget.value)}>\r\n                      {/* <option value=\"option\" disabled>Cliquez pour choisir</option> */}\r\n                        <option value=\"MLL\" >Mlle</option>\r\n                        <option value=\"MME\" >Mme</option>\r\n                        <option value=\"MR\" >Mr</option>\r\n                      </select>\r\n                    </div>\r\n                    <div className=\"form-group col-md-4\">\r\n                      <label>Groupe sanguin</label>\r\n                      <select defaultValue={\"option\"} name=\"blood\" className=\"form-control\"  onChange={e => setBlood(e.target.value)}>\r\n                      <option value=\"option\" disabled>Cliquez pour choisir</option>\r\n                        <option value='A-' >A-</option>\r\n                        <option value='A+' >A+</option>\r\n                        <option value='B-' >B-</option>\r\n                        <option value='B+' >B+</option>\r\n                        <option value='O-' >O-</option>\r\n                        <option value='O+' >O+</option>\r\n                        <option value='AB-'>AB-</option>\r\n                        <option value='AB+'>AB+</option>\r\n                      </select>\r\n                    </div>\r\n                    {/* <div className=\"form-group col-md-4\">\r\n                      <label>état</label>\r\n                      <select  defaultValue={\"option\"} name=\"state\" className=\"form-control\" onChange={e => setEtat(e.target.value)}>\r\n                        <option value=\"option\" disabled>Cliquez pour choisir</option>\r\n                        <option value=\"A\" >Active</option>\r\n                        <option value=\"N\" >Non active</option>\r\n                        <option value=\"S\" >Suspendue</option>\r\n                      </select>\r\n                    </div> */}\r\n                     <div className=\"form-group col-md-4\">\r\n                      <label>Maladies</label>\r\n                        <Autocomplete\r\n                            multiple\r\n                            onChange={((event, value) => { \r\n                                setSelectedMaladies(value) \r\n                                // console.log(s);\r\n                            //   const maladieId = value.indexOf(value)\r\n                            //   if (maladieId !== -1) {\r\n                            //     const neawCren = value.filter(val => val !== maladieId)\r\n                            //     console.log('calue de i , id', value.id);\r\n                            //     console.log('calue de i , vaaal', neawCren);\r\n                            //     console.log('calue de i , maladieId', maladieId);\r\n                            //     setSelectedMaladies(neawCren) \r\n                            //   }\r\n                            //   for (let i = 0; i < value.length; i++) {\r\n                               \r\n                            //       setSelectedMaladies([...selectedMaladies, value[i].id])\r\n                            //       console.log('calue de i , maladieId', maladieId);\r\n\r\n                            //       console.log(\"je suis laaa\");\r\n                            // }\r\n                            console.log('les maladies selectionné', selectedMaladies);\r\n                            })}\r\n                            // onChange={handleSubmit}\r\n                            options={maladies}\r\n                            id=\"size-small-standard-multi\"\r\n                            defaultValue={maladies[9]}\r\n                            //  value={activities[creneauActivite]}\r\n                            // getOptionSelected={(option) =>  option['id']}\r\n                            \r\n                            // getOptionSelected={(option) => console.log('hello', option.id )}\r\n                            getOptionLabel={(option) =>  (\r\n                                option['name'])}\r\n                            renderInput={(params) =>\r\n                              (<TextField {...params} name=\"maladies\" label=\"Maladies\" variant=\"outlined\" fullWidth />)}\r\n                          />\r\n                      </div>\r\n                  </div>\r\n                    {/* <div className=\"form-group col-md-4\">\r\n                    <label>Dettes</label>\r\n                      <input type=\"number\" name=\"dette\" className=\"form-control\" onChange={e => setDette(e.target.value)}/>\r\n                      <input type=\"number\" name=\"dette\" className=\"form-control\" onChange={e => setDette(e.target.value)}/> \r\n                    </div> */}\r\n                \r\n                {/* <div className=\"form-group col-md-4\">\r\n                    <label>\r\n                      Maladies\r\n                    </label>\r\n                    <div className=\"col-4\">\r\n                        { maladies.map(maladie =>\r\n                          <div className=\"custom-control custom-checkbox mb-3\">\r\n                            <input type=\"checkbox\" name={maladie.id} className=\"custom-control-input\" id={maladie.id} required onClick={handleCheckbox}/>\r\n                            <label className=\"custom-control-label\" htmlFor={maladie.id}> {maladie.name}</label>\r\n                          </div>\r\n                        )}\r\n                </div> */}\r\n                {/* </div> */}\r\n                 \r\n                  <div className=\"form-row\">\r\n                      <label>Note</label>\r\n                      <textarea name=\"note\" className=\"form-control\" onChange={e => setNote(e.target.value)}/>\r\n                </div>\r\n                  <button type=\"submit\" className=\"btn btn-primary mt-3\">\r\n                    Creer\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n  )\r\n}\r\nexport default CreateClient;\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}