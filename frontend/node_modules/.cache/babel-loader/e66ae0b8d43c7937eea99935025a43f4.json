{"ast":null,"code":"var _jsxFileName = \"/home/bil/Desktop/web projects/octopus/Octogym/frontend/src/jsx/components/transactions/TransactionsList.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport PageTitle from \"../../layouts/PageTitle\";\nimport { Dropdown, Button } from \"react-bootstrap\";\nimport axios from 'axios';\nimport Search from \"../../layouts/Search\";\nimport ShortCuts from \"../ShortCuts\";\nimport { ToastContainer, toast } from 'react-toastify'; /// Transaction Modal\n// import TransactionCreateModal from './TransactionCreateModal';\n\nimport PaiementCreateModal from './PaiementCreateModal';\nimport RemunerationCoachModal from './RemunerationCoachModal';\nimport RemunerationPersonnelModal from './RemunerationPersonnelModal';\nimport AutreCreateModal from './AutreCreateModal'; // import DetteCreateModal from './DetteCreateModal';\n/// images \n\nimport avartar5 from \"../../../images/avatar/5.png\";\nimport avartar1 from \"../../../images/avatar/1.png\";\nimport { Link } from \"react-router-dom\";\nimport { useGetAPI } from '../useAPI';\nimport { transformToNestObject } from \"react-hook-form\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction refreshPage() {\n  window.location.reload(false);\n}\n\nconst removeObject = async props => {\n  let endpoint = `${process.env.REACT_APP_API_URL}/rest-api/transactions/delete/`;\n  await axios.delete(endpoint + props.id);\n};\n\nconst Drop = props => {\n  return /*#__PURE__*/_jsxDEV(Dropdown, {\n    children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n      variant: \"\",\n      className: \"table-dropdown i-false\",\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"24px\",\n        height: \"24px\",\n        viewBox: \"0 0 24 24\",\n        version: \"1.1\",\n        children: /*#__PURE__*/_jsxDEV(\"g\", {\n          stroke: \"none\",\n          strokeWidth: \"1\",\n          fill: \"none\",\n          fillRule: \"evenodd\",\n          children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"0\",\n            y: \"0\",\n            width: \"24\",\n            height: \"24\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n            fill: \"#000000\",\n            cx: \"5\",\n            cy: \"12\",\n            r: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n            fill: \"#000000\",\n            cx: \"12\",\n            cy: \"12\",\n            r: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n            fill: \"#000000\",\n            cx: \"19\",\n            cy: \"12\",\n            r: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n      children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n        href: `/client/edit/${props.id}`,\n        children: \"Modifier\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n        type: \"button\",\n        className: \"text-danger\",\n        onClick: async () => {\n          await axios.delete(`${process.env.REACT_APP_API_URL}/rest-api/clients/delete/${props.id}/`);\n          refreshPage();\n        },\n        children: \"Supprimer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 11\n  }, this);\n};\n\n_c = Drop;\n\nconst TransactionList = () => {\n  _s();\n\n  const formatDate = date => {\n    try {\n      const returned = new Date(date).toISOString().slice(0, 10);\n      return returned;\n    } catch (error) {\n      const returned = new Date().toISOString().slice(0, 10);\n      return returned;\n    }\n  };\n\n  const [startDate, setStartDate] = useState(formatDate(new Date('2021-01-05')));\n  const [endDate, setEndDate] = useState(formatDate(new Date()));\n  const [paiementModal, setPaiementModal] = useState(false);\n  const [autreModal, setAutreModal] = useState(false);\n  const [remunerationCoachModal, setRemunerationCoachModal] = useState(false);\n  const [remunerationPersonnelModal, setRemunerationPersonnelModal] = useState(false);\n  const [detteModal, setDetteModal] = useState(false); // const [modal, setModal] = useState(false);\n\n  const [presenceData, setPresenceData] = useState([]);\n  const [searchValue, setSearchValue] = useState('');\n  const [transData, setTransData] = useState([]); // const savedTransactions = useGetAPI(endpoint)\n  // console.log('els clieeents', savedTransactions);\n\n  const capitalizeFirstLetter = word => {\n    if (word) return word.charAt(0).toUpperCase() + word.slice(1);\n    return '';\n  }; // useEffect(() =>  {\n  //    const dateDebut = formatDate(startDate)\n  //    const dateFin = formatDate(endDate)\n  //    if (searchValue !== '') {\n  //       axios.get(`${process.env.REACT_APP_API_URL}/rest-api/transactions/?start_date=${dateDebut}&end_date=${dateFin}&search=${searchValue}`).then(res => {\n  //          setTransData(res.data)\n  //          console.log('le resultat des clients est ', res.data);\n  //       })\n  //    }else {\n  //       axios.get(`${process.env.REACT_APP_API_URL}/rest-api/transactions/?start_date=${dateDebut}&end_date=${dateFin}&search=${searchValue}`).then(res => {\n  //          setTransData(res.data)\n  //          console.log('le resultat des clients est ', res.data);\n  //       })}\n  // }, [searchValue]);\n\n\n  const [nextpage, setNextpage] = useState(1);\n  useEffect(() => {\n    // axios.get(`${process.env.REACT_APP_API_URL}/rest-api/presence/?start_date=${startDate}&end_date=${endDate}`).then(res => {\n    //    setStartDate(res.data.results)\n    //    setEndDate(res.data.results)\n    //    console.log('le resultat des clients est ', res.data);\n    // })\n    const presenceDateDate = async () => {\n      // const page = nextpage\n      const dateDebut = formatDate(startDate);\n      const dateFin = formatDate(endDate);\n      const result = await axios.get(`${process.env.REACT_APP_API_URL}/rest-api/transactions/?page=${nextpage}&start_date=${dateDebut}&end_date=${dateFin}`);\n      console.log('result ', result);\n      setTransData(result.data.results);\n    }; // }else {\n    //    axios.get(endpoint).then(res => {\n    //       setStartDate(res.data.results)\n    //       setEndDate(res.data.results)\n    //       console.log('le resultat des clients est ', res.data);\n    //    })}\n\n\n    presenceDateDate();\n  }, [startDate, endDate, nextpage, paiementModal, remunerationCoachModal, remunerationPersonnelModal, autreModal]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"testimonial-one owl-right-nav owl-carousel owl-loaded owl-drag mb-4\",\n      children: /*#__PURE__*/_jsxDEV(ShortCuts, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row d-flex justify-content-arround mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn btn-success ml-auto\",\n        onClick: e => setPaiementModal(true),\n        children: \"+ Paiement\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn btn-danger ml-auto\",\n        onClick: e => setRemunerationPersonnelModal(true),\n        children: \"+ Remun\\xE9ration Personnel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn btn-info ml-auto\",\n        onClick: e => setRemunerationCoachModal(true),\n        children: \"+ Remun\\xE9ration Coach\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn btn-primary ml-auto\",\n        onClick: e => setAutreModal(true),\n        children: \"+ Autre Transaction\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-2\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"birth_date\",\n          value: startDate,\n          className: \"form-control\",\n          onChange: e => setStartDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" col-md-2\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"birth_date\",\n          value: endDate,\n          className: \"form-control\",\n          onChange: e => setEndDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            style: {\n              padding: '5px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-responsive\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"table mb-0 table-striped\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 231,\n                      columnNumber: 34\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"montant\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 232,\n                      columnNumber: 34\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Type\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 233,\n                      columnNumber: 34\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"pl-5 width200\",\n                      children: \" Nom \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 234,\n                      columnNumber: 34\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"pl-5 width200\",\n                      children: \"Note\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 235,\n                      columnNumber: 34\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 236,\n                      columnNumber: 34\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 28\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  id: \"customers\",\n                  children: transData.map(tran => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    role: \"row\",\n                    className: \"btn-reveal-trigger presences\",\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"customer_shop_single\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"media d-flex align-items-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"media-body\",\n                          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                            className: \"mb-0 fs--1\",\n                            children: capitalizeFirstLetter(tran.date_creation)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 245,\n                            columnNumber: 46\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 244,\n                          columnNumber: 43\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 243,\n                        columnNumber: 40\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 34\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"\",\n                      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                        style: tran.type === 'remunerationProf' || tran.type === 'remuneration' ? {\n                          color: '#FF2E2E'\n                        } : tran.type === 'paiement' || tran.type === 'assurance' ? {\n                          color: '#24a247'\n                        } : {\n                          color: '#000000'\n                        },\n                        children: tran.amount\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 252,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 34\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"\",\n                      children: tran.type === 'remunerationProf' ? 'Coach' : tran.type === 'paiement' ? capitalizeFirstLetter(tran.abonnement_name) : tran.type === 'remuneration' ? 'Personnel' : tran.type === 'assurance' ? 'Frais Annuel' : 'Autre'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 254,\n                      columnNumber: 34\n                    }, this), tran.coach && /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \" \",\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/coach/${tran.coach.id}`,\n                        children: tran.coach.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 259,\n                        columnNumber: 43\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 40\n                    }, this), tran.abonnement_client && /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \" \",\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/client/${tran.client_id}`,\n                        children: tran.client_last_name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 266,\n                        columnNumber: 43\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 265,\n                      columnNumber: 40\n                    }, this), tran.type === 'remuneration' && /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \" \",\n                      children: tran.client.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 272,\n                      columnNumber: 46\n                    }, this), tran.type === 'autre' && /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \" \",\n                      children: tran.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 277,\n                      columnNumber: 46\n                    }, this), tran.type === 'assurance' && /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \" \",\n                      children: tran.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 46\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \" pl-5\",\n                      children: [\" \", tran.notes, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 34\n                    }, this)]\n                  }, tran.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 31\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 28\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 22\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(PaiementCreateModal, {\n        show: paiementModal,\n        onShowShange: setPaiementModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(RemunerationCoachModal, {\n        show: remunerationCoachModal,\n        onShowShange: setRemunerationCoachModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(RemunerationPersonnelModal, {\n        show: remunerationPersonnelModal,\n        onShowShange: setRemunerationPersonnelModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(AutreCreateModal, {\n        show: autreModal,\n        onShowShange: setAutreModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex text-center justify-content-end\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dataTables_info text-black\",\n        id: \"example5_info \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dataTables_paginate paging_simple_numbers\",\n        id: \"example5_paginate\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => nextpage > 0 && setNextpage(nextpage - 1),\n          style: {\n            width: '100px',\n            border: 'none',\n            height: '48px',\n            color: '#ffffff',\n            textAlign: 'left',\n            fontSize: '15px',\n            paddingLeft: '8px'\n          },\n          children: \"Pr\\xE9c\\xE9dent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            to: \"/transactions\",\n            type: \"number\",\n            className: \"paginate_button_client  \",\n            onChange: e => setNextpage(e.target.value),\n            value: nextpage,\n            style: {\n              width: '100px',\n              border: 'none',\n              height: '99%',\n              textAlign: 'center',\n              fontSize: '15px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            width: '100px',\n            border: 'none',\n            height: '48px',\n            color: '#ffffff',\n            textAlign: 'center',\n            fontSize: '15px',\n            padding: '2px'\n          },\n          onClick: () => nextpage > 0 && setNextpage(nextpage + 1),\n          children: \"Suivant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 7\n  }, this);\n};\n\n_s(TransactionList, \"o0yFNo22dgnd54u1zKJqyryq5Jw=\");\n\n_c2 = TransactionList;\nexport default TransactionList;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Drop\");\n$RefreshReg$(_c2, \"TransactionList\");","map":{"version":3,"sources":["/home/bil/Desktop/web projects/octopus/Octogym/frontend/src/jsx/components/transactions/TransactionsList.jsx"],"names":["React","Fragment","useState","useEffect","PageTitle","Dropdown","Button","axios","Search","ShortCuts","ToastContainer","toast","PaiementCreateModal","RemunerationCoachModal","RemunerationPersonnelModal","AutreCreateModal","avartar5","avartar1","Link","useGetAPI","transformToNestObject","MuiPickersUtilsProvider","KeyboardDatePicker","DateFnsUtils","refreshPage","window","location","reload","removeObject","props","endpoint","process","env","REACT_APP_API_URL","delete","id","Drop","TransactionList","formatDate","date","returned","Date","toISOString","slice","error","startDate","setStartDate","endDate","setEndDate","paiementModal","setPaiementModal","autreModal","setAutreModal","remunerationCoachModal","setRemunerationCoachModal","remunerationPersonnelModal","setRemunerationPersonnelModal","detteModal","setDetteModal","presenceData","setPresenceData","searchValue","setSearchValue","transData","setTransData","capitalizeFirstLetter","word","charAt","toUpperCase","nextpage","setNextpage","presenceDateDate","dateDebut","dateFin","result","get","console","log","data","results","e","target","value","padding","map","tran","date_creation","type","color","amount","abonnement_name","coach","name","abonnement_client","client_id","client_last_name","client","notes","width","border","height","textAlign","fontSize","paddingLeft"],"mappings":"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","sourcesContent":["import React, { Fragment , useState, useEffect} from \"react\";\r\nimport PageTitle from \"../../layouts/PageTitle\";\r\nimport { Dropdown, Button } from \"react-bootstrap\";\r\nimport axios from 'axios';\r\nimport Search from \"../../layouts/Search\";\r\nimport ShortCuts from \"../ShortCuts\";\r\nimport { ToastContainer, toast } from 'react-toastify'\r\n/// Transaction Modal\r\n// import TransactionCreateModal from './TransactionCreateModal';\r\nimport PaiementCreateModal from './PaiementCreateModal';\r\nimport RemunerationCoachModal from './RemunerationCoachModal';\r\nimport RemunerationPersonnelModal from './RemunerationPersonnelModal';\r\nimport AutreCreateModal from './AutreCreateModal';\r\n// import DetteCreateModal from './DetteCreateModal';\r\n/// images \r\n\r\nimport avartar5 from \"../../../images/avatar/5.png\";\r\nimport avartar1 from \"../../../images/avatar/1.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useGetAPI } from '../useAPI'\r\nimport { transformToNestObject } from \"react-hook-form\";\r\n\r\nimport {\r\n   MuiPickersUtilsProvider,KeyboardDatePicker\r\n } from '@material-ui/pickers';\r\n import DateFnsUtils from '@date-io/date-fns';\r\n \r\nfunction refreshPage() {\r\n   window.location.reload(false);\r\n }\r\n const removeObject = async (props) => {\r\n   let endpoint = `${process.env.REACT_APP_API_URL}/rest-api/transactions/delete/`\r\n   await axios.delete(endpoint + props.id)\r\n  }\r\nconst Drop = (props) => {\r\n   return <Dropdown>\r\n      <Dropdown.Toggle variant=\"\" className=\"table-dropdown i-false\">\r\n         <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\">\r\n            <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n               <rect x=\"0\" y=\"0\" width=\"24\" height=\"24\"></rect>\r\n               <circle fill=\"#000000\" cx=\"5\" cy=\"12\" r=\"2\"></circle>\r\n               <circle fill=\"#000000\" cx=\"12\" cy=\"12\" r=\"2\"></circle>\r\n               <circle fill=\"#000000\" cx=\"19\" cy=\"12\" r=\"2\"></circle>\r\n            </g>\r\n         </svg>\r\n      </Dropdown.Toggle>\r\n      <Dropdown.Menu>\r\n         <Dropdown.Item href={`/client/edit/${props.id}`}>Modifier</Dropdown.Item>\r\n         <Dropdown.Item type='button' className=\"text-danger\" onClick={ async () => {\r\n               await axios.delete(`${process.env.REACT_APP_API_URL}/rest-api/clients/delete/${props.id}/`)\r\n               refreshPage()\r\n               }}>\r\n               Supprimer\r\n            </Dropdown.Item>\r\n      </Dropdown.Menu>\r\n   </Dropdown>\r\n};\r\n\r\n\r\nconst TransactionList = () => {\r\n\r\n   const formatDate = (date) => {\r\n      try {\r\n         const returned = new Date(date).toISOString().slice(0, 10)\r\n         return returned\r\n      } catch (error) {\r\n         const returned = new Date().toISOString().slice(0, 10)\r\n         return returned\r\n      }\r\n   }\r\nconst [startDate, setStartDate] = useState(formatDate(new Date('2021-01-05')));\r\n   const [endDate, setEndDate] = useState(formatDate(new Date()));\r\n   const [paiementModal, setPaiementModal] = useState(false);\r\n   const [autreModal, setAutreModal] = useState(false);\r\n   const [remunerationCoachModal, setRemunerationCoachModal] = useState(false);\r\n   const [remunerationPersonnelModal, setRemunerationPersonnelModal] = useState(false);\r\n   const [detteModal, setDetteModal] = useState(false);\r\n   // const [modal, setModal] = useState(false);\r\n   const [presenceData, setPresenceData] = useState([]);\r\n   const [searchValue, setSearchValue] = useState('')\r\n   const [transData, setTransData] = useState([]);\r\n   // const savedTransactions = useGetAPI(endpoint)\r\n   // console.log('els clieeents', savedTransactions);\r\n   const capitalizeFirstLetter = (word) => {\r\n      if (word)\r\n          return word.charAt(0).toUpperCase() + word.slice(1);\r\n      return '';\r\n   };\r\n\r\n   // useEffect(() =>  {\r\n   //    const dateDebut = formatDate(startDate)\r\n   //    const dateFin = formatDate(endDate)\r\n   //    if (searchValue !== '') {\r\n   //       axios.get(`${process.env.REACT_APP_API_URL}/rest-api/transactions/?start_date=${dateDebut}&end_date=${dateFin}&search=${searchValue}`).then(res => {\r\n   //          setTransData(res.data)\r\n   //          console.log('le resultat des clients est ', res.data);\r\n   //       })\r\n   //    }else {\r\n\r\n   //       axios.get(`${process.env.REACT_APP_API_URL}/rest-api/transactions/?start_date=${dateDebut}&end_date=${dateFin}&search=${searchValue}`).then(res => {\r\n   //          setTransData(res.data)\r\n   //          console.log('le resultat des clients est ', res.data);\r\n   //       })}\r\n   // }, [searchValue]);\r\nconst [nextpage, setNextpage] = useState(1);\r\n\r\n   useEffect(() =>  {\r\n      // axios.get(`${process.env.REACT_APP_API_URL}/rest-api/presence/?start_date=${startDate}&end_date=${endDate}`).then(res => {\r\n      //    setStartDate(res.data.results)\r\n      //    setEndDate(res.data.results)\r\n      //    console.log('le resultat des clients est ', res.data);\r\n      // })\r\n      const presenceDateDate = async () => {\r\n         // const page = nextpage\r\n         const dateDebut = formatDate(startDate)\r\n         const dateFin = formatDate(endDate)\r\n         const result =  await axios.get(`${process.env.REACT_APP_API_URL}/rest-api/transactions/?page=${nextpage}&start_date=${dateDebut}&end_date=${dateFin}`)\r\n         console.log('result ', result);\r\n         setTransData(result.data.results)\r\n      }\r\n   // }else {\r\n   //    axios.get(endpoint).then(res => {\r\n   //       setStartDate(res.data.results)\r\n   //       setEndDate(res.data.results)\r\n   //       console.log('le resultat des clients est ', res.data);\r\n   //    })}\r\n   presenceDateDate()\r\n   }, [startDate, endDate,nextpage,paiementModal,remunerationCoachModal,remunerationPersonnelModal,autreModal]);\r\n   return (\r\n      <Fragment>\r\n         <div className=\"testimonial-one owl-right-nav owl-carousel owl-loaded owl-drag mb-4\">\r\n            <ShortCuts />\r\n         </div>\r\n            {/* <Search name= 'Abonnée' lien= \"/client/create\"/> */}\r\n            <div className=\"row d-flex justify-content-arround mb-3\">\r\n                  <div className=\"btn btn-success ml-auto\" onClick={e => setPaiementModal(true) }>\r\n                  + Paiement \r\n                  </div>\r\n                  {/* <div className=\"btn btn-success ml-auto\" onClick={e => setDetteModal(true) }>\r\n                  + Réglement Dette \r\n                  </div> */}\r\n                  <div className=\"btn btn-danger ml-auto\" onClick={e => setRemunerationPersonnelModal(true) }>\r\n                  + Remunération Personnel \r\n                  </div>\r\n                  <div className=\"btn btn-info ml-auto\" onClick={e => setRemunerationCoachModal(true) }>\r\n                  + Remunération Coach\r\n                  </div>\r\n                  <div className=\"btn btn-primary ml-auto\" onClick={e => setAutreModal(true) }>\r\n                  + Autre Transaction\r\n                  </div>\r\n                \r\n               {/* <div>\r\n                  <Link to='/' className=\"btn btn-success ml-auto\">\r\n                  + Nouvel  Transaction \r\n                  </Link>\r\n               </div> */}\r\n            {/* <div className=\" col-lg-2\">\r\n               <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                  <KeyboardDatePicker\r\n                     disableToolbar\r\n                     variant=\"inline\"\r\n                     format=\"dd/MM/yyyy\"\r\n                     type=\"local\"\r\n                     id=\"date-picker-inline\"\r\n                     label=\"Date Début\"\r\n                     value={startDate}\r\n                     onChange={date => {\r\n                        setStartDate(date)\r\n                        setEndDate(date)\r\n                     \r\n                     }}\r\n\r\n                     KeyboardButtonProps={{\r\n                        'aria-label': 'change date',\r\n                     }}\r\n                  />\r\n                  \r\n               </MuiPickersUtilsProvider>\r\n               </div>\r\n               <div className=\" col-lg-2\">\r\n\r\n               <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                  <KeyboardDatePicker\r\n                     disableToolbar\r\n                     variant=\"inline\"\r\n                     format=\"dd/MM/yyyy\"\r\n\r\n                     id=\"date-picker-inline\"\r\n                     label=\"Date Fin\"\r\n                     value={endDate}\r\n                     style={{matginTop: '0px'}}\r\n                     onChange={date =>setEndDate(date) }\r\n                     KeyboardButtonProps={{ 'aria-label': 'change date', }}\r\n                  />\r\n               </MuiPickersUtilsProvider>\r\n               </div> */}\r\n                <div className=\"col-md-2\">\r\n                      <input type=\"date\" name=\"birth_date\" value={startDate} className=\"form-control\"  onChange={e => setStartDate(e.target.value)}/>\r\n               </div>\r\n               <div className=\" col-md-2\">\r\n                     <input type=\"date\" name=\"birth_date\" value={endDate} className=\"form-control\"  onChange={e => setEndDate(e.target.value)}/>\r\n               </div>\r\n               {/* <div className=\"input-group search-area d-inline-flex\">\r\n               <div className=\"input-group-append\">\r\n                  <span className=\"input-group-text\">\r\n                     <i className=\"flaticon-381-search-2\"/>\r\n                  </span>\r\n               </div>\r\n               <input type=\"text\" className=\"form-control\" placeholder=\"rechercher un client\" value={searchValue} onChange={e => setSearchValue(e.target.value)}/>\r\n            </div> */}\r\n            </div>\r\n\r\n               {/* <div className=\"input-group search-area d-inline-flex col-lg-2\">\r\n                  <div className=\"input-group-append\">\r\n                     <span className=\"input-group-text\">\r\n                        <i className=\"flaticon-381-search-2\"/>\r\n                     </span>\r\n                  </div>\r\n                  <input type=\"text\" className=\"form-control\" placeholder=\"rechercher par client\" value={searchValue} onChange={e => setSearchValue(e.target.value)}/>\r\n               </div> */}\r\n\r\n         <div className=\"row\">\r\n            <div className=\"col-lg-12\">\r\n               <div className=\"card\">\r\n                  <div className=\"card-body\" style={{padding: '5px'}}>\r\n                     <div className=\"table-responsive\">\r\n                        <table className=\"table mb-0 table-striped\">\r\n                           <thead>\r\n                              <tr>\r\n                                 {/* <th className=\"customer_shop\"> ID </th> */}\r\n                                 <th>Date</th>\r\n                                 <th>montant</th>\r\n                                 <th>Type</th>\r\n                                 <th className=\"pl-5 width200\"> Nom </th>\r\n                                 <th className=\"pl-5 width200\">Note</th>\r\n                                 <th></th>\r\n                              </tr>\r\n                           </thead>\r\n                           <tbody id=\"customers\">\r\n                           {transData.map(tran => (\r\n                              <tr role=\"row\" key={tran.id} className=\"btn-reveal-trigger presences\">\r\n                                 <td className=\"customer_shop_single\">\r\n                                       <div className=\"media d-flex align-items-center\">\r\n                                          <div className=\"media-body\">\r\n                                             <h5 className=\"mb-0 fs--1\">\r\n                                             {capitalizeFirstLetter(tran.date_creation)}\r\n                                             </h5>\r\n                                          </div>\r\n                                       </div>\r\n                                 </td>\r\n                                 <td className=\"\">\r\n                                    <h5 style={ tran.type === 'remunerationProf' || tran.type === 'remuneration'  ? {color: '#FF2E2E'} : tran.type === 'paiement' || tran.type === 'assurance' ? {color: '#24a247'} :  {color: '#000000'}  }>{tran.amount}</h5>\r\n                                 </td>\r\n                                 <td className=\"\">\r\n                                  {tran.type === 'remunerationProf' ? 'Coach' : tran.type === 'paiement' ? capitalizeFirstLetter(tran.abonnement_name) : tran.type === 'remuneration'  ? 'Personnel' : tran.type === 'assurance' ? 'Frais Annuel' : 'Autre'} \r\n                                 </td>\r\n                                     { tran.coach &&\r\n                                       <td className=\" \">\r\n                                          <Link to={`/coach/${tran.coach.id}`} >\r\n                                             {tran.coach.name} \r\n                                          </Link> \r\n                                       </td>\r\n                                     }\r\n                                     {tran.abonnement_client && \r\n                                       <td className=\" \"> \r\n                                          <Link to={`/client/${tran.client_id}`} >\r\n                                             {tran.client_last_name}  \r\n                                          </Link> \r\n                                       </td>\r\n                                     }\r\n                                       {tran.type === 'remuneration' &&\r\n                                             <td className=\" \"> \r\n                                             {tran.client.name}\r\n                                             </td>\r\n                                       }\r\n                                       {tran.type === 'autre' &&\r\n                                             <td className=\" \"> \r\n                                             {tran.name}\r\n                                             </td>\r\n                                       }\r\n                                       {tran.type === 'assurance' &&\r\n                                             <td className=\" \"> \r\n                                             {tran.name}\r\n                                             </td>\r\n                                       }\r\n                                 <td className=\" pl-5\"> { tran.notes } </td>\r\n                                 {/* <td className=\"\">30/03/2018</td> */}\r\n                                 {/* <td className=\" text-right\">\r\n                                    <Drop id={tran.id}/>\r\n                                 </td> */}\r\n                              </tr>\r\n                              ))}\r\n                              </tbody>\r\n                        </table>\r\n                     </div>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n            {/* <TransactionCreateModal show={modal} onShowShange={setModal}/> */}\r\n            <PaiementCreateModal show={paiementModal} onShowShange={setPaiementModal}/>\r\n            <RemunerationCoachModal show={remunerationCoachModal} onShowShange={setRemunerationCoachModal}/>\r\n            <RemunerationPersonnelModal show={remunerationPersonnelModal} onShowShange={setRemunerationPersonnelModal}/>\r\n            <AutreCreateModal show={autreModal} onShowShange={setAutreModal}/>\r\n         </div>\r\n         <div className='d-flex text-center justify-content-end'>\r\n            <div className='dataTables_info text-black' id='example5_info '>\r\n            {/* Showing {activePag.current * sort + 1} to{' '}\r\n            {data.length > (activePag.current + 1) * sort\r\n               ? (activePag.current + 1) * sort\r\n               : data.length}{' '}\r\n            of {data.length} entries{' '} */}\r\n            </div>\r\n            <div className='dataTables_paginate paging_simple_numbers' id='example5_paginate' >\r\n            <Button\r\n               onClick={() =>\r\n               nextpage > 0 && setNextpage(nextpage - 1)\r\n            }\r\n            style={{width: '100px', border: 'none', height:'48px', color:'#ffffff',textAlign: 'left', fontSize:'15px', paddingLeft:'8px'}}>\r\n               Précédent\r\n            </Button>\r\n            <span>\r\n                  <input\r\n                  to='/transactions'\r\n                  type='number'\r\n                  className='paginate_button_client  '\r\n                  onChange={e => setNextpage(e.target.value)}\r\n                  value={nextpage}\r\n                  style={{width: '100px', border: 'none', height:'99%', textAlign: 'center', fontSize:'15px'}}\r\n                  />\r\n            </span>\r\n            <Button\r\n            style={{width: '100px', border: 'none', height:'48px', color:'#ffffff',textAlign: 'center', fontSize:'15px', padding:'2px'}}\r\n\r\n               onClick={() =>\r\n               nextpage > 0 && setNextpage(nextpage + 1)\r\n               }\r\n            >\r\n               Suivant\r\n            </Button>\r\n            </div>\r\n\r\n         </div>\r\n      </Fragment>\r\n   );\r\n};\r\n\r\nexport default TransactionList;\r\n"]},"metadata":{},"sourceType":"module"}