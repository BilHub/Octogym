{"ast":null,"code":"var _jsxFileName = \"/home/bil/Desktop/web projects/octopus/Octogym/frontend/src/jsx/components/presence/PresenceEditModal.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport { Row, Card, Col, Button, Modal, Container } from \"react-bootstrap\";\nimport { useGetAPI, usePutAPI } from '../useAPI';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport axios from 'axios';\nimport { Dropdown, Tab, Nav } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction refreshPage() {\n  window.location.reload(false);\n}\n\nconst PresenceEditModal = _ref => {\n  _s();\n\n  let {\n    show,\n    onShowShange,\n    presenceData\n  } = _ref;\n  const handleShow = useCallback(() => {\n    onShowShange(false);\n  }, [onShowShange]);\n  const client = presenceData['client'];\n  const clientID = presenceData['clientId'];\n  const hourIn = presenceData['hourIn'];\n  const hourOut = presenceData['hourOut']; //  const creneau  =presenceData['creneau']\n\n  const notes = presenceData['note'];\n  const date = presenceData['date'];\n  const activity = presenceData['activity'];\n  const presenceId = presenceData['presenceId'];\n  const [hourIn2, setHourIn2] = useState('');\n  const [hourOut2, setHourOut2] = useState('');\n  const [note, setNote] = useState('');\n  const [presenceDate, setPresenceDate] = useState('');\n  let presenceUpdateEND = `${process.env.REACT_APP_API_URL}/rest-api/presence/${presenceId}/`;\n  useEffect(() => {\n    if (show == true) {\n      setHourIn2(hourIn);\n      setHourOut2(hourOut);\n      setNote(notes);\n      setPresenceDate(presenceData['date']);\n      console.log('THE NEW CLIENT ONEEE ');\n    }\n\n    console.log('rani hab naafer creneau DATAAA============>', note, hourOut);\n  }, [presenceData['presenceId']]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const newCreneau = {\n      hour_entree: hourIn2,\n      hour_sortie: hourOut2,\n      note: note,\n      date: presenceDate\n    }; // console.log(\" =================> new Creneau \", newCreneau);\n\n    await axios.patch(presenceUpdateEND, newCreneau);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    className: \"fade bd-example-modal-lg\",\n    size: \"lg\",\n    onHide: handleShow,\n    show: show,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      children: [/*#__PURE__*/_jsxDEV(Modal.Title, {\n        className: \"text-capitalize text-black\",\n        children: [\"Presence de \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-danger ml-3 mr-4\",\n          children: [\" \", client]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 71\n        }, this), \" ID: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \" ml-1 text-danger\",\n          children: clientID\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 132\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"\",\n        className: \"close\",\n        onClick: handleShow,\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 67\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row justify-content-around d-flex m-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-black\",\n              children: [\"Date : \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-primary\",\n                children: [\" \", date]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 56\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 22\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-black\",\n              children: [\"Activit\\xE9 : \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-primary\",\n                children: [\" \", activity]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 60\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 22\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              className: \"btn-sm btn-success ml-auto\",\n              target: \"_blank\",\n              to: `/client/${clientID}`,\n              children: \"Fiche Client\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 22\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group col-md-6\",\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                type: \"time\",\n                label: \"Heure d'entr\\xE9e\",\n                variant: \"outlined\",\n                value: hourIn2,\n                onChange: e => setHourIn2(e.currentTarget.value),\n                fullWidth: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group col-md-6\",\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                type: \"time\",\n                value: hourOut2,\n                variant: \"outlined\",\n                label: \"Heure de Sortie\",\n                fullWidth: true,\n                onChange: e => setHourOut2(e.currentTarget.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group col-md-6\",\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                type: \"text\",\n                value: note,\n                label: \"Note\",\n                variant: \"outlined\",\n                onChange: e => setNote(e.currentTarget.value),\n                fullWidth: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group col-md-6\",\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                type: \"date\",\n                value: presenceDate,\n                label: \"Date\",\n                variant: \"outlined\",\n                onChange: e => setPresenceDate(e.currentTarget.value),\n                fullWidth: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row justify-content-md-around\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleShow,\n                variant: \"danger \",\n                children: \" Fermer \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                type: \"submit\",\n                children: \"Sauvgarder\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"danger light\",\n                onClick: async () => {\n                  await axios.delete(`${process.env.REACT_APP_API_URL}/rest-api/presence/delete/${presenceId}/`);\n                  handleShow();\n                },\n                children: \"Supprim\\xE9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PresenceEditModal, \"Q199dQju0l4MNGGghNN/hFRb8Es=\");\n\n_c = PresenceEditModal;\nexport default PresenceEditModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"PresenceEditModal\");","map":{"version":3,"sources":["/home/bil/Desktop/web projects/octopus/Octogym/frontend/src/jsx/components/presence/PresenceEditModal.jsx"],"names":["React","useState","useCallback","useEffect","Row","Card","Col","Button","Modal","Container","useGetAPI","usePutAPI","TextField","Autocomplete","axios","Dropdown","Tab","Nav","Link","refreshPage","window","location","reload","PresenceEditModal","show","onShowShange","presenceData","handleShow","client","clientID","hourIn","hourOut","notes","date","activity","presenceId","hourIn2","setHourIn2","hourOut2","setHourOut2","note","setNote","presenceDate","setPresenceDate","presenceUpdateEND","process","env","REACT_APP_API_URL","console","log","handleSubmit","e","preventDefault","newCreneau","hour_entree","hour_sortie","patch","currentTarget","value","delete"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useEffect } from \"react\";\r\nimport { Row, Card, Col, Button, Modal, Container } from \"react-bootstrap\";\r\nimport { useGetAPI, usePutAPI } from '../useAPI'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport axios from 'axios';\r\nimport { Dropdown, Tab, Nav } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n \r\nfunction refreshPage() {\r\n  window.location.reload(false);\r\n}\r\nconst PresenceEditModal = ({show, onShowShange, presenceData}) => {\r\n    const handleShow = useCallback( () => {onShowShange(false)}, [onShowShange])\r\n    const client  =presenceData['client']\r\n    const clientID  =presenceData['clientId']\r\n    const hourIn  =presenceData['hourIn']\r\n    const hourOut  =presenceData['hourOut']\r\n   //  const creneau  =presenceData['creneau']\r\n    const notes  =presenceData['note']\r\n    const date  =presenceData['date']\r\n    const activity  =presenceData['activity']\r\n    const presenceId = presenceData['presenceId']\r\n    const [hourIn2, setHourIn2] = useState('')\r\n    const [hourOut2,setHourOut2] = useState('')\r\n    const [note,setNote] = useState('')\r\n    const [presenceDate,setPresenceDate] = useState('')\r\n\r\n\r\n    \r\n\r\n    let presenceUpdateEND = `${process.env.REACT_APP_API_URL}/rest-api/presence/${presenceId}/`\r\n\r\n    useEffect(() => {\r\n \r\n      if (show == true) {\r\n         setHourIn2(hourIn)\r\n         setHourOut2(hourOut)\r\n         setNote(notes)\r\n         setPresenceDate(presenceData['date'])\r\n           console.log('THE NEW CLIENT ONEEE ');\r\n      }\r\n        console.log('rani hab naafer creneau DATAAA============>', note,\r\n        hourOut);\r\n    }, [presenceData['presenceId']])\r\n\r\n\r\n    const handleSubmit = async e => {\r\n      e.preventDefault();\r\n      const newCreneau = {\r\n         hour_entree :hourIn2,\r\n         hour_sortie :hourOut2,\r\n         note :note,\r\n         date :presenceDate,\r\n      }\r\n      // console.log(\" =================> new Creneau \", newCreneau);\r\n      await axios.patch(presenceUpdateEND, newCreneau)\r\n    }\r\n\r\nreturn ( \r\n\r\n    <Modal className=\"fade bd-example-modal-lg\" size=\"lg\"onHide={handleShow} show={show}>\r\n    <Modal.Header>\r\n      <Modal.Title className='text-capitalize text-black'>Presence de <span className='text-danger ml-3 mr-4'> {client}</span> ID: <span className=' ml-1 text-danger'>{clientID}</span></Modal.Title>\r\n      <Button variant=\"\" className=\"close\" onClick={handleShow} > <span>&times;</span> </Button>\r\n    </Modal.Header>\r\n    <Modal.Body>\r\n      <div>\r\n               <div className=\"row justify-content-around d-flex m-4\">\r\n                  <div >\r\n                     <h4 className='text-black'>Date : <span className='text-primary'> {date}</span></h4>\r\n                     <h4 className='text-black'>Activité : <span className='text-primary'> {activity}</span></h4>\r\n                  </div>\r\n                  <div>\r\n                     <Link className=\"btn-sm btn-success ml-auto\" target='_blank' to={`/client/${clientID}`}>\r\n                        Fiche Client\r\n                     </Link>\r\n                  </div>\r\n               </div>\r\n         <form onSubmit={handleSubmit}>\r\n            <div className=\"form-row\">\r\n               <div className=\"form-group col-md-6\">\r\n                  <TextField type=\"time\" label=\"Heure d'entrée\" variant=\"outlined\" value={hourIn2} onChange={e=> setHourIn2(e.currentTarget.value)} fullWidth/>\r\n               </div>\r\n               <div className=\"form-group col-md-6\">\r\n                  <TextField type=\"time\" value={hourOut2} variant=\"outlined\" label=\"Heure de Sortie\" fullWidth onChange={e => setHourOut2(e.currentTarget.value)}/>\r\n               </div>\r\n               <div className=\"form-group col-md-6\">\r\n                  <TextField type=\"text\" value={note} label=\"Note\" variant=\"outlined\" onChange={e=> setNote(e.currentTarget.value)} fullWidth/>\r\n               </div>\r\n               <div className=\"form-group col-md-6\">\r\n                  <TextField type=\"date\" value={presenceDate} label=\"Date\" variant=\"outlined\" onChange={e=> setPresenceDate(e.currentTarget.value)} fullWidth/>\r\n               </div>\r\n            </div>\r\n            <div className=\"row justify-content-md-around\">\r\n               <div>\r\n                  <Button onClick={handleShow} variant=\"danger \" > Fermer </Button>\r\n                  <Button variant=\"primary\" type=\"submit\">Sauvgarder</Button>\r\n               </div>\r\n               <div>\r\n                  <Button variant=\"danger light\"  onClick={ async () => {\r\n                    await axios.delete(`${process.env.REACT_APP_API_URL}/rest-api/presence/delete/${presenceId}/`, )\r\n                    handleShow()}}>Supprimé</Button>\r\n               </div>\r\n            </div>\r\n         </form>\r\n      </div>\r\n     </Modal.Body>\r\n   </Modal>\r\n)}\r\nexport default PresenceEditModal;"]},"metadata":{},"sourceType":"module"}